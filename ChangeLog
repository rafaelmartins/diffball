2005-10-24 06:39  bharring

	* NEWS: addition of configure.orig removal note

2005-10-24 06:37  bharring

	* NEWS, README, TODO: email address updates, and addition of 0.7.1
	  notes

2005-10-24 06:33  bharring

	* man/: convert_delta.1, diffball.1, differ.1, patcher.1: updated
	  manpages with appropriate version

2005-10-24 06:24  bharring

	* Makefile.am, gentoo-test.sh: include release tag's into
	  ChangeLog, and a quick change to my local testing script

2005-10-24 06:16  tag release-0-7-1

2005-10-24 06:16  bharring

	* Makefile.am, configure.in, gentoo-test.sh: updates for 0.7.1,
	  plus ynking of configure.orig from make dist

2005-10-23 17:04  bharring

	* libdiffball/: api.c, gdiff.c, switching.c, xdelta1.c: warning
	  cleanups

2005-10-23 17:03  bharring

	* libcfile/cfile.c: whitespace cleanup, and io fix.
	  flag_lseek_needed was supposed to reset the last lseeker to a
	  different id, but via a typo was setting last lseeker to that
	  cfh_id.  exactly opposite of what's desired.

2005-10-23 16:51  bharring

	* configure.in: make -Wall default cflag

2005-10-23 07:10  bharring

	* libdiffball/api.c: meh, typo slipped in, corrected it

2005-10-23 07:09  bharring

	* libdiffball/api.c: exit call that slipped by, removed it

2005-10-22 11:30  bharring

	* AUTHORS: updated email addie

2005-10-22 11:27  tag release-0-7-0

2005-10-22 11:27  bharring

	* NEWS: addition of warnings info

2005-10-22 10:16  bharring

	* NEWS: updated comment about configure and nocxx punts.

2005-10-22 10:06  bharring

	* NEWS, ROADMAP: updates/corrections date timeline (since I'm a
	  slacker), and addition of a tentative 0.7 news section.

2005-10-22 10:06  bharring

	* Makefile.am: auto ChangeLog generation for make dist (dist-hook
	  rules)

2005-10-22 09:37  bharring

	* libdiffball/api.c: meh. fixed the last commit, so that it would
	  only try free'ing when a CommandBuffer was in the ring buff.

2005-10-22 09:36  bharring

	* libdiffball/api.c: cleanup of memory leaks due to lifting the
	  code straight out of patcher; only leaks possible were during
	  errors, but they're covered now.

2005-10-22 09:35  bharring

	* differ.c: conversion over to the simple_difference api.

2005-10-22 09:25  bharring

	* libdiffball/api.c: free the CommandBuffer on the way out, lest
	  you leak.

2005-10-22 08:56  bharring

	* patcher.c: convert patcher over to api.c:simple_reconstruct

2005-10-22 07:47  bharring

	* libdiffball/api.c, include/diffball/api.h,
	  include/diffball/defs.h, include/diffball/errors.h: whitespace
	  cleanup, and addition of simple_reconstruct

2005-10-22 05:19  bharring

	* libcfile/cfile.c: cleanup; if cfile_WONLY, buff must be null.

2005-10-22 04:26  bharring

	* libdiffball/diff-algs.c: corrected bug from previous change, if
	  the window is empty, null the cfile window so the loop ends.

2005-10-22 04:14  bharring

	* Makefile.am, nocxx.patch: lil trick from the portage early
	  autotooling, disabling the cxx check that libtool screws up and
	  auto-enforces (even though this source is c, through and
	  through).

2005-10-22 03:55  bharring

	* gentoo-test.sh: personal utility for make dist'ing && updating a
	  local ebuild for merging for testing on my box.  rather gentoo
	  specific I'm afraid

2005-10-22 03:24  bharring

	* libcfile/cfile.c: better cfile_mem_alias handling, plus a
	  buttload of asserts.	cleaned up the remaining v0printfs, and
	  converted remaining abort to a UNSUPPORTED_OPT return

2005-10-22 03:19  bharring

	* include/cfile.h: added copen_mem prototype, correct
	  IS_LAST_LSEEKER so that if it's a mem alias, it's always last
	  lseeker.

2005-10-22 03:18  bharring

	* libdiffball/diff-algs.c: whitespace cleanup (my original sed'ing
	  seemed to have some troubles with my old, insane, code formatting
	  approach).  Aside from that, converted for onehalfpass vcfh usage
	  over to next_page, instead of a cseek + expose_page.

	  Hvaen't verified it, but the underlying cfile windowing code
	  should be smart enough to optimze that condition into a
	  next_window on it's own, although the cseek triggering an lseek
	  may disprove that.  Either way, calling pattern sucked, so I
	  corrected it.

2005-10-22 03:12  bharring

	* libdiffball/switching.c: whitespace cleanup, and tagged a few
	  comments about questionables

2005-10-22 00:04  bharring

	* libcfile/cfile.c, libcfile/defs.h, include/cfile.h: initial write
	  memory target, plus an explicit memory read copen_mem is what to
	  look into

2005-10-21 23:05  bharring

	* include/: cfile.h, diffball/defs.h: Shifting around the error
	  defines, so they're usable from the appropriate code, rather then
	  pulling all in (as was previously the case)

2005-10-21 23:05  bharring

	* libdiffball/api.c: no need for the errors include.

2005-10-21 23:04  bharring

	* libdiffball/hash.c: error checking of init_adler32 return

2005-10-21 23:03  bharring

	* Makefile.am, configure.in: removal of hash_stats

2005-10-21 22:39  bharring

	* libdiffball/primes.c: better error handling in get_nearest_prime

2005-10-21 03:30  bharring

	* include/diffball/api.h, libdiffball/Makefile.am,
	  libdiffball/api.c: addition of a basic api header, plus differ
	  algo slapped in.

2005-10-21 03:13  bharring

	* include/Makefile.am: for the moment, distribute the config
	  alongside, since it's used in defs.h

2005-10-21 03:12  bharring

	* man/Makefile.am: distribute the manpages (didn't I commit this
	  once already!?)

2005-10-21 03:12  bharring

	* libdiffball/command_list.c: addition of central global_verbosity

2005-10-21 03:12  bharring

	* convert_delta.c, diffball.c, differ.c, patcher.c: clenup of
	  global_verbosity handling.

2005-10-21 03:11  bharring

	* hash_stats.c: no longer relevant, can test via python bindings
	  I'm working.

2005-10-21 00:26  bharring

	* man/Makefile.am: bundle the man pages, bugger.

2005-10-20 19:29  bharring

	* configure.in: *cough* generate the man/Makefile when running
	  configure...

2005-10-20 19:08  bharring

	* Makefile.am, man/Makefile.am, man/convert_delta.1,
	  man/diffball.1, man/differ.1, man/patcher.1: man pages added back
	  in.

2005-10-20 17:44  bharring

	* differ.c: change of the options code, s/Example-/Example:/

2005-10-20 17:31  bharring

	* convert_delta.c: bug in looping code for handling N patches

2005-10-20 17:29  bharring

	* libdiffball/hash.c: if a search func returns -1 on unfound, don't
	  assign the results of it to an unsigned var. (I know I've fixed
	  this specific bug before :/ )

2005-10-20 17:16  bharring

	* libcfile/cfile.c, include/cfile.h: hey hey. it works once again.
	  wasn't deref'ing a ptr, as it should've been.

2005-10-20 15:14  bharring

	* include/cfile.h, libcfile/cfile.c: compilation corrections for
	  gcc-3.4/4.0 (whenever they break it).  condition lvalues
	  assignment, replaced with inline funcs converted
	  ENSURE_LSEEK_POSITION macro to ensure_lseek_position function,
	  since the macro was forcing raw_ensure_position calls (not
	  desirable).

2005-10-20 15:12  bharring

	* diffball.c, differ.c, libdiffball/diff-algs.c,
	  include/diffball/dcbuffer.h: DCB_insert removal, since it was
	  combined with DCB_finalize DCB_insert -> DCB_finalize

2005-10-20 15:09  bharring

	* include/diffball/dcbuffer.h: fixed DCB_finalize's macro, since it
	  had the nasty habit of lieing.

2005-10-20 14:24  bharring

	* configure.in, libcfile/cfile.c: largefile var in libdiffball
	  (compilation time), and fixup so user cflags are abided by
	  (again).  stupid AC_PROG_CC

2005-10-20 13:18  bharring

	* Makefile.am, diffball.c, differ.c, string-misc.c, string-misc.h,
	  include/diffball/dcbuffer.h, include/diffball/hash.h: further
	  cleanup, whitespace for string-misc.*, _GNU_SOURCE , not
	  __USE_GNU for strnlen errors, and fix of hash.h so it includes
	  the prototype for base_rh_bucket_hash_init

2005-10-20 12:36  bharring

	* include/cfile.h, libcfile/cfile.c: cleanup, conversion away from
	  off_u64/off_u32/signed long/unsigned long to size_t and ssize_t

2005-10-20 11:17  bharring

	* convert_delta.c: removed unused compressor var; don't yet allow
	  compressing for writing...

2005-10-20 11:15  bharring

	* libcfile/defs.h: missed one

2005-10-20 11:09  bharring

	* Makefile.am, configure.in, convert_delta.c, diffball.c, differ.c,
	  options.c, patcher.c, tar.c, tar.h, include/Makefile.am,
	  include/cfile.h, include/diffball/adler32.h,
	  include/diffball/apply-patch.h, include/diffball/bdelta.h,
	  include/diffball/bdiff.h, include/diffball/bit-functions.h,
	  include/diffball/bsdiff.h, include/diffball/command_list.h,
	  include/diffball/dcb-cfh-funcs.h, include/diffball/dcbuffer.h,
	  include/diffball/defs.h, include/diffball/diff-algs.h,
	  include/diffball/errors.h, include/diffball/fdtu.h,
	  include/diffball/formats.h, include/diffball/gdiff.h,
	  include/diffball/hash.h, include/diffball/line-util.h,
	  include/diffball/primes.h, include/diffball/switching.h,
	  include/diffball/udiff.h, include/diffball/xdelta1.h,
	  libcfile/Makefile.am, libcfile/cfile.c, libdiffball/Makefile.am,
	  libdiffball/adler32.c, libdiffball/apply-patch.c,
	  libdiffball/bdelta.c, libdiffball/bdiff.c,
	  libdiffball/bit-functions.c, libdiffball/bsdiff.c,
	  libdiffball/command_list.c, libdiffball/dcb-cfh-funcs.c,
	  libdiffball/dcbuffer.c, libdiffball/diff-algs.c,
	  libdiffball/errors.c, libdiffball/fdtu.c, libdiffball/formats.c,
	  libdiffball/gdiff.c, libdiffball/hash.c, libdiffball/line-util.c,
	  libdiffball/primes.c, libdiffball/switching.c,
	  libdiffball/udiff.c, libdiffball/xdelta1.c: major change up of
	  autotooling

2005-10-20 11:08  bharring

	* adler32.c, adler32.h, apply-patch.c, apply-patch.h, bdelta.c,
	  bdelta.h, bdiff.c, bdiff.h, bit-functions.c, bit-functions.h,
	  bsdiff.c, bsdiff.h, cfile.c, cfile.h, command_list.c,
	  command_list.h, convert_delta.1, dcb-cfh-funcs.c,
	  dcb-cfh-funcs.h, dcbuffer.c, dcbuffer.h, defs.h, diff-algs.c,
	  diff-algs.h, diffball.1, differ.1, errors.c, errors.h, fdtu.c,
	  fdtu.h, formats.c, formats.h, gdiff.c, gdiff.h, hash.c, hash.h,
	  line-util.c, line-util.h, patcher.1, primes.c, primes.h,
	  switching.c, switching.h, udiff.c, udiff.h, xdelta1.c, xdelta1.h:
	  moving em.

2005-10-20 07:37  bharring

	* configure.in: AM_CONFIG_HEADER -> AC_CONFIG_HEADER

2005-10-20 07:37  bharring

	* autogen.sh: tweaks to make it a bit more verbose about how/where
	  it died, if it dies

2005-10-20 06:01  bharring

	* apply-patch.c, cfile.c, convert_delta.c, diffball.c, differ.c,
	  hash.c, patcher.c: code cleanup (ongoing).  mostly whitespace
	  correction, and yanking dead code.

2005-10-20 05:44  bharring

	* cfile.h: whitespace corrections

2005-10-20 04:18  bharring

	* autogen.sh: tweaks so it works properly still

2005-10-20 03:38  bharring

	* Makefile.am, cfile.c, cfile.h, configure.in, convert_delta.c,
	  dcbuffer.h, diff-algs.c, diffball.c, differ.c, hash_stats.c,
	  options.h, patcher.c: alright... cfile changes, mainly.  changed
	  copen so it opens the fd on it's own, added copen_dup_fd that has
	  the fd handed in.

	  removed ssl support (md5, really).  Never enabled it, no need for
	  it, don't care to really have it in either.  backed out profiling
	  support; do it via cflags, or static building instead.

2005-10-20 03:35  bharring

	* config.h.in: autogenerated, no need to store it.

2005-10-20 03:20  bharring

	* aclocal.m4: no need to bundle this in cvs

2005-10-01 07:53  bharring

	* adler32.c, adler32.h, apply-patch.c, apply-patch.h, bdelta.c,
	  bdelta.h, bdiff.c, bit-functions.c, bit-functions.h, bsdiff.c,
	  bsdiff.h, cfile.c, cfile.h, command_list.c, command_list.h,
	  convert_delta.c, ctest.c, dcb-cfh-funcs.c, dcb-cfh-funcs.h,
	  dcbuffer.c, dcbuffer.h, defs.h, diff-algs.c, diff-algs.h,
	  diffball.c, differ.c, errors.c, errors.h, fdtu.c, fdtu.h,
	  formats.c, formats.h, gdiff.c, gdiff.h, hash.c, hash.h,
	  hash_stats.c, line-util.c, options.c, options.h, patcher.c,
	  primes.c, primes.h, string-misc.c, switching.c, switching.h,
	  tar.c, tar.h, udiff.c, udiff.h, xdelta1.c, xdelta1.h: conversion
	  to sane tab usage instead of previous fucked up style

2005-04-13 03:43  tag release-0-6-5

2005-04-13 03:43  bharring

	* convert_delta.1, diffball.1, differ.1, patcher.1: final man page
	  updates.  0.6.5 is ready.

2005-04-13 03:36  bharring

	* dcbuffer.h, gdiff.c: warning cleanup.

2005-04-13 03:31  bharring

	* convert_delta.1, diffball.1, differ.1, patcher.1: man page
	  updates.

2005-04-13 01:52  bharring

	* NEWS, configure.in, convert_delta.c, dcbuffer.c, dcbuffer.h,
	  patcher.c, switching.c: Cleanup.  branding it 0.6.5, have
	  DCommand_collapsed fully working (so convert_delta works across
	  the board now), fixed a couple of bufferless logic bugs in
	  patcher, updated news.

2005-04-12 19:10  bharring

	* switching.c: whitespace cleanup.

2005-04-12 18:55  bharring

	* dcbuffer.c, dcbuffer.h, patcher.c: basic code for collapsed
	  dcommand.  Cleanup in patcher also, and changes to init func for
	  no_buff.

2005-04-11 13:55  bharring

	* bdelta.c, convert_delta.c, dcbuffer.c, dcbuffer.h, gdiff.c:
	  ability to collapse multiple patches into one, sans switching.

2005-04-11 03:07  bharring

	* bdelta.c, bsdiff.c, cfile.h, dcbuffer.c, dcbuffer.h, diff-algs.c,
	  diffball.c, patcher.c, tar.c, tar.h: could've sworn I commited
	  these printf fixes for recent changes... meh.

2005-04-07 02:15  bharring

	* README: pointed at berlios

2005-04-07 01:56  bharring

	* configure.in: update to authors email

2005-04-07 01:17  tag release-0-6-2

2005-04-07 01:17  bharring

	* bdelta.c, bdiff.c, cfile.c, cfile.h, defs.h, gdiff.c,
	  switching.c: Collection of updates for largefile crap, thanks to
	  wizeman for amd64 specific info (and pointing out the previous
	  index/quanta bug via hitting the segfault :)

2005-04-06 23:39  bharring

	* dcbuffer.c: off by one alloc error for dcbsearch

2005-03-29 15:16  bharring

	* dcbuffer.c: remaining silencing of handle registration.

2005-03-29 15:12  bharring

	* dcbuffer.c: silenced registration of handles slightly.

2005-03-29 08:11  bharring

	* Makefile.am: install libdiffball.so if profiling isn't on (had it
	  inverted).

2005-03-29 07:42  bharring

	* autogen.sh: used for autogenerating autotools crap.

2005-03-29 07:42  bharring

	* Makefile.am, aclocal.m4, apply-patch.c, apply-patch.h, cfile.c,
	  cfile.h, config.h.in, patcher.c: Fixes to Makefile.am, added
	  buffersize command opt for patcher for read_seq_write_rand.

2005-03-29 03:57  bharring

	* Makefile.am, adler32.c, adler32.h, apply-patch.c, apply-patch.h,
	  bdelta.c, bdelta.h, bdiff.c, bdiff.h, bit-functions.c,
	  bit-functions.h, bsdiff.c, bsdiff.h, cfile.c, cfile.h,
	  command_list.c, command_list.h, convert_delta.c, dcb-cfh-funcs.c,
	  dcb-cfh-funcs.h, dcbuffer.c, dcbuffer.h, defs.h, diff-algs.c,
	  diff-algs.h, diffball.c, differ.c, errors.h, fdtu.c, fdtu.h,
	  formats.c, formats.h, gdiff.c, gdiff.h, hash.c, hash.h,
	  hash_stats.c, line-util.c, line-util.h, options.c, options.h,
	  patcher.c, primes.c, primes.h, string-misc.c, string-misc.h,
	  switching.c, switching.h, tar.c, tar.h, udiff.c, udiff.h,
	  xdelta1.c, xdelta1.h: copyright header update, shifting
	  DCB_SRC_ID type (instead of unsigned char) into use, fixed a long
	  standing (and stupid) bug in multipass for first run against a
	  file.

2005-03-19 17:23  bharring

	* convert_delta.c, dcbuffer.c, dcbuffer.h, diff-algs.c, diffball.c,
	  differ.c, hash.c, patcher.c: Ugh... shoot me if I ever let
	  if/else if/else if|switch type support accrue again.	Broke it
	  all down into individual functions, abusing function ptrs (yes
	  c++ might be wise here, but I also care to do without the c++ req
	  at this point due to reasons tied to gentoo's stage1's).

	  Take a look at dcbuffer.h:CommandBuffer ; everything should be
	  self explanatory.

2005-03-11 05:13  bharring

	* diff-algs.c, diffball.c, hash.c, hash.h, primes.c, primes.h:
	  broke RefHash down so new hash implementations are pluggable via
	  func ptrs.  collapsed insert_block and find_matches down to
	  common code, and updated code as needed to use the new code.

2005-02-13 04:36  bharring

	* Makefile.am, configure.in, convert_delta.c, diffball.c, differ.c,
	  errors.c, patcher.c: Collection of tweaks, fixed a missing
	  include in errors.c, bumped vers # to 0.6.2 (will be tagged and
	  bagged in cvs when released), usage output/missing files
	  specified as args error output cleaned up, and oh yeah, all
	  diff-algs/formats code is now schlopped into a lib, libdiffball

2005-02-12 00:12  bharring

	* convert_delta.c: fixed the usage string

2005-02-12 00:09  bharring

	* configure.in, convert_delta.c, dcbuffer.c, defs.h, diffball.c,
	  differ.c, options.c, options.h, patcher.c: Removed libpopt
	  dependency for arg parsing, fixed a segfault for handling
	  multiple patches.

2004-08-22 15:33  tag v0-6_pre1

2004-08-22 15:33  bharring

	* cfile.h, patcher.c: patcher.c contains a fix for
	  reorder/bufferless, and cfile.h is just a tweak of a comment.

2004-06-18 02:56  bharring

	* Makefile.am, adler32.c, adler32.h, apply-patch.c, apply-patch.h,
	  bdelta.c, bdelta.h, bdiff.c, bdiff.h, bit-functions.c,
	  bit-functions.h, bsdiff.c, bsdiff.h, cfile.c, cfile.h,
	  command_list.c, command_list.h, configure.in, convert_delta.c,
	  dcb-cfh-funcs.c, dcb-cfh-funcs.h, dcbuffer.c, dcbuffer.h, defs.h,
	  diff-algs.c, diff-algs.h, diffball.c, differ.c, errors.c,
	  errors.h, fdtu.c, fdtu.h, formats.c, formats.h, gdiff.c, gdiff.h,
	  hash.c, hash.h, hash_stats.c, line-util.c, line-util.h,
	  options.c, options.h, patcher.c, primes.c, primes.h,
	  string-misc.c, string-misc.h, switching.c, switching.h, tar.c,
	  tar.h, udiff.c, udiff.h, xdelta1.c, xdelta1.h: Cleaning up top
	  level return value checks, updated copyright year, added
	  usage/help options.  Cleanup somewhat.

2004-06-17 20:03  bharring

	* bsdiff.c: Quieted an obnoxious warning, that wasn't relevant.

2004-06-17 03:01  bharring

	* diff-algs.c, diffball.c: Removed the old OneHalfPassCorrectingAlg
	  implementation.

2004-06-17 02:34  bharring

	* NEWS, ROADMAP, apply-patch.c, bdelta.c, bdiff.c, bsdiff.c,
	  cfile.c, cfile.h, dcbuffer.c, dcbuffer.h, diff-algs.c,
	  diffball.c, differ.c, gdiff.c, hash.c, patcher.c, switching.c,
	  tar.c, xdelta1.c: K.	bufferless reconstruction is now added,
	  including necessary checks/handling in patcher.c.  Added
	  _REGISTER_VOLATILE_(ADD|COPY)_SRC to be used as a hint that
	  during reconstruction of a command buffer, the code adding
	  commands may potentially be seeking in the cfh (in other words,
	  don't screw with it's position- use cfile_dup_cfh (new function),
	  duplicate the handle, and work w/in the dup letting the
	  reconstruct code do it's thing w/ it's original cfh).
	  Duplication of the cfh only occurs when the dcb is a bufferless
	  type, rest of the time it just functions as if
	  DCB_REGISTER_(ADD|COPY)_SRC was called.  Like I said, it's used
	  as a hint.  Aside from that, old commented code cleaning.

2004-06-15 05:40  bharring

	* apply-patch.c, apply-patch.h, bsdiff.c, options.h, patcher.c: the
	  need for read_seq_write_rand is now determined in patcher.c,
	  dependant on files involved being compressed, formats, etc.
	  quieted bsdiff.c's patch processing function, added --help option
	  to options.h, added commentary to ChangeLog regarding intent on
	  using cvs2cl.pl (the file *should* be regenerated via cvs2cl
	  prior to make dist's)

2004-06-14 16:25  bharring

	* dump-tar-headers, tar-cmp, update-cvs: Banishing them to the
	  attic.  tar-cmp/dump-tar-headers are useful on occasion,
	  update-cvs I haven't used in ages.

2004-06-14 02:20  bharring

	* NEWS, README, ROADMAP: updates to the basic info regarding the
	  plans for diffball (roadmap, todo, new features, etc)

2004-06-14 02:19  bharring

	* command_list.c, command_list.h: err, forgot to include these...
	  Rather important, last few commits fail w/out these files.

2004-06-13 19:42  bharring

	* Makefile.am, apply-patch.c, apply-patch.h, configure.in,
	  dcbuffer.c, dcbuffer.h: Bumped to 0.6.  Intended release version,
	  after things have been completely stabled.  Need to move the
	  looping/collapse code into patcher (out of apply-patch.c, also
	  rename apply-patch.*).  sorting is a bit quicker, DCB_collapse
	  now dumps commands into their own command_list dependant on their
	  src_id, avoiding that comparison, also giving finer grained
	  control over releasing of memory.

2004-06-08 21:27  bharring

	* Makefile.am, diffball.c: forgot to remove data-struct.h include
	  and header entry in makefile.am.

2004-06-08 21:03  bharring

	* delta.h: Another long dead file.

2004-06-08 21:02  bharring

	* data-structs.h: Hmm. This file has been dead a *long* time.

2004-06-08 18:50  bharring

	* apply-patch.c, bsdiff.c, dcbuffer.c, dcbuffer.h, patcher.c: Ohk.
	  DCB_rec_copy_DCB_src, add_overlay, and add_copy have been
	  modified so that overlay srcs are correctly processed.  so far,
	  ./patcher ccache-2.2.tar cc.bsd ccr.bsd cc.bsd ccr.bsd ==
	  ccache-2.3.tar.  So I've got that going for me (enough
	  caddieshack references).  Cleanup here and there, levelled
	  *shitload* more asserts, looks like merge version support is
	  pretty much finished.

	  That said, bsdiff's bsdiff_overlay_copy has a few issues- it
	  assumes the chain it's processing doesn't contain any ov
	  commands- so reorder_for_seq is required currently (side steps
	  bsdiff_overlay_copy, processing command by command rather then
	  bsdiff_overlay_copy's method of get the mask command, then read
	  from the src while combining the mask w/ commands it encounters).
	   Less efficient, but works.

2004-06-07 03:55  bharring

	* patcher.c: Closed a minor 484 byte segment not being free'd
	  (poptFreeContext).

2004-06-07 03:28  bharring

	* Makefile.am, apply-patch.c, bsdiff.c, dcbuffer.c, dcbuffer.h,
	  patcher.c, search-dcb.c, search-dcb.h: Lots o changes.
	  DCB_register_dcb_src now does something (specifically register a
	  dcb as a merge key, on the fly looking up and inserting the
	  appropriate chains).	So I've got that going for me.	Also, ought
	  to  works across all ov_chains (recursive).  Problem is, bsdiff's
	  read function isn't recursive in pulling commands. need to do
	  something about that.

	  Restored things back to the status quo for no-overlay for
	  merging, and patcher src bsd-patch other-patches* test works.

2004-06-06 17:30  bharring

	* dcb-cfh-funcs.c, dcb-cfh-funcs.h: Long standing warning being
	  fixed; basically the function definition for
	  default_dcb_src_cfh_read_func was unsigned len, rather then
	  unsigned long len.

2004-06-06 10:44  bharring

	* bsdiff.c, convert_delta.c, dcbuffer.c, dcbuffer.h, diffball.c,
	  patcher.c, search-dcb.c, search-dcb.h: merge versions is
	  temporarily broke, rearranged dcb->DCB.full.(lb|buffer)* into
	  struct command_list, typedef'd the same as ov_chain's struct.
	  Best to keep things similar, easier to manage.  moving version
	  merging into DCB_add_(overlay|copy), using a registered
	  DCB_DCBUFFER.

2004-06-06 09:55  bharring

	* apply-patch.c, bsdiff.c, dcbuffer.c, dcbuffer.h: Cleaning up
	  dcb->srcs[x].ov

2004-06-05 06:09  bharring

	* apply-patch.c, bsdiff.c, dcbuffer.c, dcbuffer.h: Re-worked how
	  overlays are represented in the buffer.  now all copies are in
	  ov_chain for an overlay; the entry in full is just
	  offset=ov_chain offset, len=# of commands in ov_chain to use.

	  Some extra printf crap is committed as well; leaving it till
	  multiple-patch-in-one-run is finished for overlay.

2004-06-05 01:07  bharring

	* cfile.c: Fix to cseek for the 'avoid lseeking by next_page if
	  applicable' such that behaves correctly w/ CFILE_WRITEABLE.
	  Basically, disable next_page cseek for writeable.  better method
	  I'm sure, but this works.

2004-05-09 16:51  bharring

	* NEWS, README, TODO: Happy documentation/commentary updates.  Yay.

2004-05-09 16:40  bharring

	* Makefile.am, convert_delta.c: Remaining commits, Makefile.am ==
	  search-dcb.* additions, convert_delta.c == adjustments for the
	  encoding function changes (passing an int src_id rather then the
	  actual cfile).

2004-05-09 16:39  bharring

	* apply-patch.c: Missed this commit- clean up for DCB_collapse,
	  basically don't alloc a crapload of memory for an array that
	  isn't used (dc_array).  This is due to DCB_collapse passing back
	  a malloced section.

2004-05-09 16:37  bharring

	* patcher.c, search-dcb.c, search-dcb.h: modifications to use
	  multiple patches for reconstruction (both command line control,
	  and actual code for handling it).  search-dcb.* will likely be
	  merged into the dcbuffer mess (which later should be split up :),
	  but that'll come after applying n patches is fully supported- as
	  always, support for overlay formats is lagging behind non-overlay
	  :)

2004-05-09 16:35  bharring

	* diffball.c, tar.c, tar.h: split tar.c into a looping function
	  call for retrieving tar entries, and an actual tar_entry function
	  (for parsing the entry).  Also removed the requisite to read
	  through the whole file- that's goofy.  diffball has had a couple
	  of tweaks, main one being addition of a defacto DCB_insert call
	  (should check buffer type first thinking about it), and making
	  the target tar_entries array into (tar_entry *), rather then
	  (tar_entry **).  no point in wasting space allocating that extra
	  layer of pointers, since there isn't any sorting done to targets.

2004-05-09 16:32  bharring

	* bdelta.c, bdelta.h, bdiff.c, bdiff.h, bsdiff.c, bsdiff.h,
	  dcbuffer.c, dcbuffer.h, fdtu.c, fdtu.h, gdiff.c, gdiff.h,
	  switching.c, switching.h, xdelta1.c, xdelta1.h: Changes to the
	  encoding calls (now a dcbuffer src_id int is passed in, with
	  actually registering the src being upto the callee).	This seems
	  backwards, but allows for multiple-patch-in-single-run support,
	  and gives control to the callee.  Also, cleanup in
	  get_next_command, and minor adjustments to dcbuffer structs.

2004-05-09 16:26  bharring

	* aclocal.m4: autohell update.

2004-05-09 16:26  bharring

	* diff-algs.c: rewrote OneHalfPassCorrecting to use the expose_page
	  framework (one less buffer)- also fixed a bug where onehalf would
	  call update_adler32 specifying a block that extended past the
	  actual allocated end.  Seems a bit quicker.

2004-05-09 16:24  bharring

	* cfile.c, cfile.h: 3 tweaks- one to to cseek to reduce lseek calls
	  (if the desired pos is in the next page, refill), second tweak is
	  to crefill- for bzip2/gzip it was returning after *any* data had
	  been written, rather then upon a full refill.  This screwed with
	  the first tweak, and seemed suboptimal behaviour, so now it
	  refills data buff fully (looping as needed) third tweak is to
	  prev_page- it would on occasion attempt to seek into negative
	  numbers, due to assuming the page was always aligned on size
	  boundaries.  if current_offset - size <= 0, it cseek_set's to 0,
	  otherwise, current_offset -size cseek_cur.

2004-04-27 14:32  bharring

	* apply-patch.c, apply-patch.h, bsdiff.c, cfile.c, cfile.h,
	  dcbuffer.c, dcbuffer.h, patcher.c: Should be a fully working
	  version of reorder_for_seq_read now, including overlays.  cfile
	  now has RW support, which needs clean up/optimization.

2004-04-24 21:08  bharring

	* diffball.c, differ.c, patcher.c: Was calling cclose, but not
	  close for fh's.  Fixed now.

2004-04-21 02:37  bharring

	* apply-patch.c, bsdiff.c, dcbuffer.c, dcbuffer.h: bsdiff
	  reconstruction back up and working now, although it doesn't work
	  w/ reordering command access for seq src reads.  need to write
	  bsdiff_read_func.  From there, adjust register_overlay_src so
	  that it takes a function ptr to a src_overlay_func, so that for
	  patching/reordering the read can be ran, but the mask is applied
	  seperately.  That and reorder_for_seq_access needs to be adjusted
	  to *recursively* pull all overlay_chain srcs.  Busy busy. either
	  way, got the general lay of the land back to where finishing
	  reorder_for_seq and applying multiple patches in one run is
	  *much* easier.

2004-04-21 02:33  bharring

	* NEWS: An attempt at being witty.

2004-04-21 02:33  bharring

	* test-cfile.txt: cfile tests need redoing. later.

2004-04-20 23:56  bharring

	* cfile.c: *Cough*.  Had a check wrong, so w/ cfw's it never
	  refilled the buff upon expose_page/next_page calls.  Pays to
	  check prior to committing...

2004-04-20 23:54  bharring

	* bsdiff.c, cfile.c, dcbuffer.h: Continuing work to bring overlay's
	  back into the fold.  Minor adjustment to the cfile_window
	  mechanism- need to go through and get it ready for read/write
	  access to a file, currently it thinks one or the other.
	  Continued internal adjustments to dcbuffer's structure, nothing
	  worth noting.

2004-04-19 04:36  bharring

	* README, ROADMAP, TODO, apply-patch.c, bsdiff.c, dcb-cfh-funcs.c,
	  dcb-cfh-funcs.h, dcbuffer.c, dcbuffer.h, tar.c: Updated
	  readme/todo, and split the goals into roadmap.  Grouped all
	  registered commandbuffer srcs under a single struct, cleaned up
	  that area.  Fixing overlay support in read_seq_write_rand is
	  next, possible due to cleanups.

2004-04-15 23:46  bharring

	* dcbuffer.c, dcbuffer.h: Not incredibly useful extra_offsets
	  addition to dcbuffer. using it for overlays, but first cleansing
	  dcb.full a bit.

2004-04-04 20:35  bharring

	* dcbuffer.c, dcbuffer.h: Err, added a few missing function
	  prototypes, and commited what was missed in the earlier
	  register_dcb_src_dcb related commit...

2004-04-04 20:30  bharring

	* dcbuffer.c, dcbuffer.h: Basic register functions for
	  register_DCB_DCB

2004-04-04 20:07  bharring

	* apply-patch.c, bsdiff.c, dcb-cfh-funcs.c, dcbuffer.c, dcbuffer.h:
	  Continued tweaks to attempt and allow for different srcs to be
	  used in dcb->src.

2004-04-04 19:54  bharring

	* apply-patch.c, bsdiff.c, dcb-cfh-funcs.c, dcbuffer.c, dcbuffer.h:
	  Tweaks moving dcb->src_cfh to dcb->src.cfh.

2004-04-04 05:15  bharring

	* apply-patch.c: Few tweaks, cleanup mostly.

2004-04-04 05:14  bharring

	* bsdiff.c: Minor tweak, returning 0L rather 0.

2004-04-04 05:13  bharring

	* configure.in: Configure checks weren't puking when libs weren't
	  found.  That's been rectified.

2004-03-21 22:22  bharring

	* dcb-cfh-funcs.c, dcb-cfh-funcs.h: moved the default_dcb functions
	  to dcb-cfh-funcs, with the makefile.am modifications commited
	  earlier.

2004-03-21 22:20  bharring

	* Makefile.am, apply-patch.c, apply-patch.h, bsdiff.c, dcbuffer.c,
	  dcbuffer.h: bsdiff.c support tweaked, using the new system.
	  dcb_src_copy appears to be working perfectly for bsdiff,
	  read_seq_blah support I've yet to test.  Side note, read_seq
	  support appears to be working nicely.

2004-03-20 03:12  bharring

	* apply-patch.c, apply-patch.h, cfile.h, dcbuffer.c, patcher.c:
	  Working version of reordering alg for sequential accessing of
	  src_cfh's.  Set as the default at the moment due to testing.

2004-02-22 21:38  bharring

	* apply-patch.c, bdelta.c, bdelta.h, bdiff.c, bdiff.h, bsdiff.c,
	  bsdiff.h, cfile.c, config.h.in, configure.in, convert_delta.c,
	  dcbuffer.c, dcbuffer.h, diff-algs.c, diff-algs.h, diffball.c,
	  differ.c, fdtu.c, fdtu.h, gdiff.c, gdiff.h, patcher.c,
	  switching.c, switching.h, udiff.c, udiff.h, xdelta1.c, xdelta1.h:
	  Fairly massive change to dcbuffer's cfh storage mechanism.
	  Removed DCB.full.cb*, opting for DCB.full.src_id, eg opening up
	  to 256 different src cfh's.  Currently, the add/copy abstraction
	  still exists.  This can (and likely will) be removed, and have
	  the encoding'ing algorithm pester dcbuffer, which makes a on the
	  fly determination if it's an add src or not.	Think that's a
	  better solution, since it open's up the full 256, since now, if a
	  src is both add and copy, dual entries are needed.  Either way,
	  needs some tweaking. apply-patch.c contains the basic start of a
	  reording attempt to sequential read from src's, random writing to
	  the reconstructed file.

2004-02-11 07:23  bharring

	* cfile.c, cfile.h: Added a seekable flag to access_flags, used for
	  determining if a write handle is seekable (conceivably read
	  handle also).

2004-02-10 12:18  bharring

	* apply-patch.c, bdelta.c, bdiff.c, bsdiff.c, dcbuffer.c,
	  dcbuffer.h, gdiff.c, switching.c: Converted to using a
	  DCLoc_match insted of DCLoc for DCommand.  This is primarily to
	  adjust things so that reconstruct_file can write the output in a
	  non-sequential manner.

2004-02-10 12:16  bharring

	* cfile.c: Seekable write support is working now, although not
	  optimal.  Need to convert from using pos to indicate how much
	  data is to be written, end should be used for that.  Once that's
	  done, the code for seeking w/in the buffer can be used for
	  writing, improving that corner case.

2004-02-10 10:54  bharring

	* view-patch: Updated view-patch perl script I've been using.

2004-02-09 08:28  bharring

	* cfile.c: Minor modifications to enable CSEEKING on a WONLY
	  handle.

2004-02-07 07:25  bharring

	* cfile.c, dcbuffer.h, patcher.c: Cleanup of v0->v2printf, 2 mild
	  fixes in cfile to catch when an error is returned, and modified
	  patcher to allow using compressed reference files.

2004-01-31 00:40  bharring

	* cfile.c: Hokay, gzip/zlib should be working perfectly for reads,
	  exempting corner cases (not sure on them).  Fixed a couple of
	  *very* dumb mistakes in internal_gzopen, stuff that is blatantly
	  stupid (mind you it is a follow the general method check_header
	  laid down in gzio.c in zlib, yet somehow I screwed it up rather
	  good).  Gah.

2004-01-29 19:25  bharring

	* README, TODO: General commentary about diffball, added dep
	  information, updated formats, mild rant about fdtu (hey, I wrote
	  the support, I'm entitled), pretty much some basic
	  documenation/general info.

2004-01-29 18:20  bharring

	* bsdiff.c, dcbuffer.h, diffball.c, differ.c, hash.h, patcher.c,
	  primes.c, primes.h, switching.c: Fixed a few warnings,
	  printf(%lu, (unsigned short)var) as an example.

2004-01-26 00:00  bharring

	* apply-patch.c, bsdiff.c, cfile.c, dcbuffer.c, dcbuffer.h: Tweaks,
	  bsdiff appears to be working fine now.

2004-01-25 06:22  bharring

	* cfile.c, cfile.h: Minor adjustments, basically eliminating
	  possibility of getting stuck in infinite loop when crefill
	  returns niadda.  gzip reading needs work, unable to be used w/
	  patches while bzip2 can be.

2004-01-25 06:08  bharring

	* bdelta.h: Added info regarding bdelta's breakage.

2004-01-25 06:04  bharring

	* bdelta.c, convert_delta.c, diffball.c, differ.c, patcher.c: Two
	  fixes- Fixed -to-stdout option for all bins (set it 1 for STDOUT,
	  don't think that is correct/best way).  Fixed bdelta, last
	  command if size2 != processed size is actually an add, tiz a bug.

2004-01-19 00:49  bharring

	* bdelta.c, convert_delta.c, patcher.c: Modified bdelta
	  reconstruction to use the new add_src construct for handling when
	  it leaves off trailing nulls.

2004-01-07 04:36  bharring

	* errors.c, errors.h: Iffy on if these functions should exist, but
	  for now they do.

2004-01-07 04:12  bharring

	* fdtu.c, fdtu.h: Gah. Forgot to include these.  Basically wrapper
	  functions for xdelta, just creating a new cfile that is limited
	  to the xdelta patch (ignoring all of the deltup header crap).
	  supports deltup v3 and v4

2004-01-06 05:06  bharring

	* apply-patch.c, apply-patch.h, convert_delta.c, diffball.c,
	  differ.c, hash_stats.c, options.c, patcher.c: Removal of fprintf,
	  using v0printf instead, work on errorhandling.

2004-01-03 03:26  bharring

	* bdelta.c, bdiff.c, bsdiff.c, dcbuffer.c, dcbuffer.h, diffball.c,
	  differ.c, gdiff.c, hash.c, patcher.c, switching.c, udiff.c,
	  xdelta1.c: Modification to enable flagging if a cfile should be
	  freed or not via the DCBUFFER_REGISTER_* macros.  Modified
	  CommandBuffer to support it, need to clean that bugger up.

2003-12-28 04:32  bharring

	* diff-algs.c, differ.c: Basic error handling groundwork.  Needs
	  finishing/checking.

2003-12-28 04:32  bharring

	* defs.h: Error handling/printfs.

2003-12-28 04:32  bharring

	* dcbuffer.c, dcbuffer.h, adler32.c, adler32.h: Error handling
	  work.

2003-12-28 04:31  bharring

	* cfile.c, cfile.h: Needs better error handling.  Fixed an issue w/
	  bzip2 specifying a data offset for a compressed file (eg offset=0
	  is actually 0 + data_fh_offset, rather then 0)

2003-12-28 04:30  bharring

	* Makefile.am: Updates for the --enable-asserts/what not configure
	  option

2003-12-28 04:29  bharring

	* hash.c: General modifications for error handling, not necessarily
	  perfect (they aren't).

2003-12-22 23:05  bharring

	* bsdiff.c: Commented out the main len1 code, and just did a simple
	  add_add until convert_delta supports converting bsdiff patches
	  (eg src option via commandline).

2003-12-22 23:04  bharring

	* hash.c: Fixed the previous attempt at a fix.	Now works
	  correctly.

2003-12-22 19:12  bharring

	* Makefile.am, configure.in: added --enable-profiling for AM_CFLAGS
	  modification to compile w/ -ftest-coverate... blah blah, gcov
	  crap.

2003-12-22 19:11  bharring

	* udiff.c, udiff.h: update for typedef struct tar_entry tar_entry

2003-12-22 18:58  bharring

	* Makefile.am: Fixes for make dist, adding bsdiff.h into
	  noinst_HEADERS, and the ctest/hash_stats source to be distributed
	  along w/ the dist tarball reguardless of configure options.

2003-12-22 18:53  bharring

	* Makefile.am, adler32.c, apply-patch.c, bdelta.c, bdiff.c,
	  bsdiff.c, cfile.c, cfile.h, dcbuffer.c, dcbuffer.h, defs.h,
	  diff-algs.c, diffball.c, gdiff.c, hash.c, primes.c, switching.c,
	  tar.c, tar.h, udiff.c, xdelta1.c: Ahem.  Removed all *_ABORT()
	  functions, using return *_ERROR instead.  so.  a lot of functions
	  need general cleanup, return's being called from void functions
	  for instance.  Fixed a longstanding bug in hash.c, basically not
	  checking to see if there is enough data in a buffer window to
	  call update on it all, or piecemeal.

2003-12-21 17:49  bharring

	* formats.c, formats.h, patcher.c: bsdiff/fdtu added support.

2003-12-21 17:48  bharring

	* xdelta1.c: removal of a duplicate include

2003-12-21 17:48  bharring

	* config.h.in: Update for Makefile.am/configure.in changes.

2003-12-21 17:47  bharring

	* cfile.c: clean up of unused variables.

2003-12-21 17:24  bharring

	* Makefile.am, configure.in: Fix for disabling -O2 during
	  debugging. tweaks here and there also.

2003-12-21 17:11  bharring

	* Makefile.am, configure.in: enable a bevy of debug options via
	  configure.  eg ./configure --enable-debug-cfile...

2003-12-21 06:25  bharring

	* diffball.c, differ.c, patcher.c: Again, updates for new cfile
	  setup, and changed encoding options for formats, along w/ new
	  dcbuffer changes (multi-add).  Borderline 0.4, next updates are
	  just fixes (add fdtu support also), then tagging as 0.4.

2003-12-21 06:24  bharring

	* diff-algs.c: Update for new multi-add_srcs.

2003-12-21 06:22  bharring

	* convert_delta.c: Added entry for bsdiff, stating 'unwilling to
	  convert' due to req of having src file on hand (overlay format).
	  Add option down the line to specify src file, so that conversion
	  of overlay formats is allowed.

2003-12-21 06:21  bharring

	* formats.c, formats.h: Added bsdiff support.

2003-12-21 06:21  bharring

	* apply-patch.c, apply-patch.h: Adjustments to use new
	  cfile/dcbuffer multiple possible add_srcs.  function ptrs are
	  fun...

2003-12-21 06:20  bharring

	* dcbuffer.c, dcbuffer.h: initial setup for multiple add_src's
	  implemented.	ain't great, but it's a start.

2003-12-21 06:20  bharring

	* bdelta.c, bdelta.h, bdiff.c, bdiff.h, bsdiff.c, bsdiff.h,
	  gdiff.c, gdiff.h, switching.c, switching.h, udiff.c, xdelta1.c,
	  xdelta1.h: Updates for changes to cfile.  bsdiff is now working
	  also.

2003-12-21 06:19  bharring

	* cfile.c, cfile.h: Converted to using zlib deflate interface
	  rather then gzdopen, complete tracking of multiple cfh's into one
	  filehandle, fixed up raw read errors (reading to much, rather
	  then to the cfh limit), bzip2 completely working.  need check for
	  when cfh limits are too small for a compressor, eg, in crefill
	  possible to go into permenant loop if cfh length set wrong (I
	  think).

2003-12-16 03:49  bharring

	* dcbuffer.c, dcbuffer.h: Initial framework for supporting multiple
	  add/copy srcs (along w/ definable function for copying blocks out
	  of said cfh).  Testing it, and cleaning it up to fit in existing
	  work.

2003-12-16 01:49  bharring

	* string-misc.h: cleanupt

2003-12-16 01:48  bharring

	* tar.c: tweak

2003-12-16 01:48  bharring

	* formats.c, formats.h: autodetection of compressor

2003-12-16 01:46  bharring

	* patcher.c: Testing out autodetection of compression type.

2003-11-17 01:59  bharring

	* TODO: Backhanding the crystal ball...

2003-11-17 01:33  bharring

	* cfile.c, cfile.h: Added AUTODETECT_COMPRESSOR as a valid
	  compressor, along w/ a quick check for known formats.  Works
	  fine, although need to watch the whole decompressing data that
	  gets decompressed again.  need to abstract cfile...

2003-11-16 18:40  bharring

	* cfile.c, cfile.h: Working bzip2 support.

2003-11-14 01:55  bharring

	* bit-functions.c, bsdiff.c, formats.c, formats.h: Cleanup,
	  modification to bsdiff.c, fix in formats.{c,h} w/ addition for
	  bsdiff spec.	Side note, bsdiff's format uses add overlays.
	  Cool.

2003-11-13 21:48  bharring

	* formats.c: Rather dumb mistake in formats, fixed now.

2003-11-13 03:26  bharring

	* Makefile.am: Additional entry for bsdiff format.

2003-11-13 03:24  bharring

	* bsdiff.c, bsdiff.h: Gutted bsdiff format, rewriting it.

2003-11-13 03:24  bharring

	* defs.h: sane renaming of typedefs for off_(u|s)(32|64).  Fixed,
	  no breakage.

2003-11-13 03:07  bharring

	* cfile.c, cfile.h, config.h.in, configure.in: Initial work towards
	  adding bzip2 as a supported compressor_type to cfile.  Should be
	  ready to go, just need to test it, then test my existing bsdiff
	  code (then commit).

2003-11-13 03:05  bharring

	* hash.c: Fixed a dumb assert mistake.

2003-11-09 19:35  bharring

	* diff-algs.c, diffball.c, tar.c: Clean up, fixed the free'ing tar
	  struct issue.  Basically needed general cleanup for long link's
	  in tar.c .  diff-algs.c: minor adjustments to the v?printf's,
	  along w/ calling print_refhash to make things a bit saner.

2003-11-04 23:01  tag release-040-pre4

2003-11-04 23:01  bharring

	* Makefile.am, README, TODO, bdelta.c, convert_delta.c, dcbuffer.c,
	  diff-algs.c, diffball.c, differ.c, hash.c, hash.h, switching.c:
	  The 0.4_pre4 release.  so *far*, have eliminated or at least
	  reduced the nasty i/o deadlock to either differ or diffball for a
	  tarball...  That and performance now is pretty much top notch,
	  loosing normally to bsdiff (it is suffix based after all), but
	  neh, no complaints, I can go after bsdiff later.  Either way,
	  changes to the general strategy- diffball uses a 24 seed scan on
	  matched files, then passes the dcb off to multipass to process
	  the skipped entries/gaps.  Performs well, using a reverse bucket
	  hash (RBUCKET_HASH), which performs quite well for eliminating
	  i/o blocking for lseeks.  Need to optimize
	  BUCKET_HASH/RBUCKET_HASH for the bucket insertion, and
	  specifically the R*_HASH types since right now it runs through
	  the versionned gaps, the *full* reference usually, then again
	  through the versionned gaps.	Performs well, but run-time could
	  quite likely be improved w/out compromising compression.  Also,
	  fixed/re-added some code to bdelta.c's encoding function to
	  produce the correct size2 (version file size)... so conversion is
	  a go again (and the warning was removed from convert_delta.c) Few
	  fixes to dcbuffer.c, bout it.  mostly performance/strategy
	  adjustments.

2003-10-30 03:57  bharring

	* hash.c: heh, another fix.

2003-10-30 03:22  bharring

	* hash.c, hash.h: fixed stupid, *stupid* fuck ups in
	  RH_BUCKET_HASH... also added RH_RBUCKET_HASH... I'd split the
	  commits normally, but halfway through RBUCKET I noticed (and
	  fixed) some dumb screwups...

2003-10-30 01:58  bharring

	* dcbuffer.c: Shut the fucking thing up a bit...

2003-10-30 01:58  bharring

	* hash.c, hash.h: RH_BUCKET_HASH completed, and should be pretty
	  much bug free- optimizations need to be done of course, but
	  trying out RH_RBUCKET_HASH first...

2003-10-27 02:59  bharring

	* hash.c, hash.h: Added RH_CMOD_HASH in my never ending quest to
	  make a mess of hash.*...

2003-10-27 02:58  bharring

	* AUTHORS: update

2003-10-27 02:57  bharring

	* diffball.c: Adjustment to get diffball using the new hash api.

2003-10-25 18:42  bharring

	* adler32.c, adler32.h, config.h.in, configure.in, diff-algs.c,
	  hash.c, tar.c: Adjustements, trying out the bdelta hashing alg.
	  Looks decent, although I think it's probably going to result in
	  clusters.  Other then that, fixes to diff-algs.c and hash.c,
	  using the newly split hash functions.

2003-10-25 18:40  bharring

	* INSTALL, README, TODO: Update info

2003-10-25 18:22  bharring

	* pdbuff.c, pdbuff.h: Hmm.  got to love cvs, haven't used these
	  files in ages...

2003-10-25 08:55  bharring

	* dcbuffer.c, dcbuffer.h, diff-algs.c, diff-algs.h: Created a new
	  function a while back, DCB_get_next_gap .  So far looks like I've
	  shaken the bugs out, so commiting it.  Basically, it's the gap
	  logic moved out of multipass into dcbuffer.

2003-10-25 08:40  bharring

	* hash.c: did away with the bastardly rbuff_end in insert_block,
	  now using cfile_window via expose_page.  No doubt, error checks
	  needed...

2003-10-25 07:10  bharring

	* hash.c, hash.h: Added RMOD_HASH type, which is chksum_ent hashed.
	  Should prove useful for dealing w/ large datasets (the bastard
	  OO for instance), by storing the checksum, thus allowing to check
	  and see if the actual chksum is correct.  Not positive it works
	  *exactly* as I want yet... split hash_it and get_offset into a
	  3rd function, lookup_offset which does both hash_it and
	  get_offset's job.  Did this since diff-algs is after just the
	  offset, while hash.c may be after more (RMOD_HASH for instance
	  is).	Testing OO against RMOD_HASH now, shoudl be good shit.

2003-10-22 17:51  bharring

	* dcbuffer.h: Adjusted param's for functions to off_u64...
	  dcbuffer.c reflects this already, missed importing this
	  alongside.

2003-10-22 17:50  bharring

	* diff-algs.c: Changed appropriate types to off_u64, upped
	  multipass to 512 beginning seed len.

2003-10-22 17:49  bharring

	* patcher.c: Fix to patcher.c, for bdelta format (that format is
	  getting annoying).

2003-10-22 17:49  bharring

	* bdelta.c, convert_delta.c: bdelta conversion warning messages...

2003-10-22 17:42  bharring

	* hash.c, hash.h: Broke init_refhash into 3 functions.	init, which
	  stores sample rate, prime's the hr, etc.  insert, processing and
	  inserting a block of a cfile into the hr finalize, does nothing
	  for mod_hash, for sort_hash, does the appropriate sorting.

2003-10-22 17:24  bharring

	* dcbuffer.c: Fixed a bug w/ matches and llm where if the last
	  command was an add, either an assert got flagged or it got
	  stupid.

2003-10-22 02:35  bharring

	* bdelta.c: Adjusted sanity check/assert, since convert_delta has
	  issues convert'ing to bdelta format (no knowledge of
	  size1/size2).  Loosened the assert, and added a v0 level
	  complaint about it...

2003-10-19 06:13  bharring

	* Makefile.am, dcbuffer.c, diff-algs.c, diff-algs.h, diffball.c,
	  hash.c: FUCKING diffball's free crapped out my run against oo.
	  bastard, I'm fixing that soon... not even sure why the bitch
	  segfaults, but she does...  turned down multipass from starting
	  at 512 to starting at 128.  possibly result's in a less optimal,
	  but betting the correcting nature of onehalfpass will handle that
	  fine.  Unless a source has had *very* little changes, finding a
	  512|256 is a bit hard, going by my tests w/ oo.  Make it dynamic
	  I guess, prob best method.

	  Fixed a bug in dcbuffer.c for LLM, where no commands registered
	  (usually brought about by a bug in hash.c or diff-algs.c) would
	  result in an incorrect delta output, basically outputting no
	  commands.  Fixed that, now it'll register that the entire file
	  needs to be added as it should for no copy commands.

	  Added a mild kludge to hash.c, basically verying the start
	  position.  The reason for this is that a rhash of MOD_HASH type
	  has a variable starting position *always*, since it's not
	  skipping every sample_rate bytes, it's going through till it can
	  find an insert, then skips to the next sample_rate window.
	  SORT_HASH, by it's nature (not being neutered by the modulus op),
	  doesn't have a variable start.  It does now, albeit crappy.  it
	  starts at seed_len *.5... did this so that it's not always
	  checking for the same prefix on it's blocks...  crappy, but it
	  ought to work for the moment till I write something better
	  (reorganzing and chucking dups at certain intervals, and updating
	  the sample_rate to reflect for instance).

	  Side note, sample_rate neuters the hash_size slightly as one goes
	  down in seed size, mainly since duplicates become more common.
	  Annoying, but the above hack (reorganizing, cleansing dups, and
	  updating sample_rate) ought to be a decent way to handle it for
	  now.

	  bdelta write support appears to have a bug, conversion of a patch
	  and then trying to patch it fails on an assert, ver_pos < size1.
	  Not sure why, haven't looked to fix it yet.

2003-10-19 04:32  bharring

	* Makefile.am, adler32.c, cfile.c, configure.in, dcbuffer.c,
	  dcbuffer.h, defs.h, delta.c, diff-algs.c, diff-algs.h,
	  diffball.c, differ.c, gdiff.c, hash.c, hash.h, hash_stats.c:
	  Hokay, rather major tweaks here and there, although the
	  abstraction of everything has made it *much* easier.	cfile.c:
	  few assertions, fixes, etc. nothing major.  dcbuffer.c: added 2
	  new types of commandbuffer's, matches, and llm.    llm is
	  matches, just linked list... needed for multipass.	assertions
	  galore also.	diff-algs.c: added multipass, which currently calls
	  just onehalfpass   multiple times w/ ever decreasing seed_len.
	  works well, although it   gets hammered by usual chksum getting
	  neutered by the modulus op.  added hash.{c,h}.  this is splitting
	  the actual hash array out of	 diff-algs, since now it has two
	  types- original, long modulus method.    second is a chksum_ent
	  (chksum, offset) stuffed in an array, and    qsorted.  works
	  decently to get around the neutering by modulus op.  adler32.c:
	  currently using basically the exact settings of xdelta.    don't
	  really see any benefit, my original primes based and xdelta both
	    get neutured by the modulus hash type.  hash_stats.{c,h}:
	  simple lil bin that just init's a refhash, and dumps	 the
	  print_refhash_stats.	good for data collecting.  defs.h: added a
	  few new types, off_u32/64.  intended for largefile   support,
	  although it isn't finished yet.  dcbuffer.c, differ.c: tweaks to
	  use the new additions.  did fix that	 stupid segfault caused by
	  freeing the src/trg tar_ent array though.  delta.c: didn't
	  belong, old dcbuffer.c; *really* old dcbuffer.c.

	  With the exemption of the new hash type addition, all of this has
	  been tested fairly extensively, eg no bugs should remain.  Not
	  expecting any in the new hash type, but I also just stated
	  writing it 5 hours ago...

2003-10-18 03:10  bharring

	* diffball.c: tweaks, cleanup, bout it.

2003-10-18 02:27  bharring

	* diffball.c: diffball.c is starting to look more and more like a
	  rat's nest compared to the rest of the code...  Fixed a bug where
	  tar for whatever reason, doesn't store the trailing slash on a
	  directory name...

2003-10-12 03:48  bharring

	* defs.h: Shut cfile's debug info up, even if -vvvv.  Only possible
	  to enable it via the configure.in option.  Original intention...

2003-10-12 03:29  bharring

	* bit-functions.c: Fix to writeSBytesBE ; basically doing some val
	  >> 32 results in a positive number, which wasn't what I
	  expecting...

2003-10-12 01:38  bharring

	* aclocal.m4: auto(conf|make) suck.

2003-10-12 01:31  bharring

	* config.h.in: Hmm, got removed somehow. shit.

2003-10-10 01:41  bharring

	* Makefile.am, apply-patch.c, bdelta.c, bdiff.c, dcbuffer.c,
	  dcbuffer.h, diff-algs.c, diffball.c, differ.c, gdiff.c,
	  switching.c, udiff.c, xdelta1.c: Briefly, all access methods of
	  accessing/reading from CommandBuffer now use functions rather
	  then direct accesing.  Did this so I could a more efficient
	  structure of just copies for the command buffer, also for the
	  upcoming multi-pass.	Multi-pass struct in dcbuffer.h is not
	  final, or even likely a prototype.  All formats were modified to
	  use the new functions, so any changes to the
	  CommandBuffer/dcbuffer won't affect them now.  diff-algs was also
	  modified to use the new functions- it calls the add DC_ADD
	  function regardless if the CommandBuffer actually stores add's or
	  not, figure it's easier just to let the call be made and ignore
	  it since nothing is done.  There should be *no* direct
	  DCBuffer(Incr|Decr) call's anymore.  Need a count function, but
	  it's minor.

2003-10-09 06:00  bharring

	* diff-algs.c: Friends don't let friends use BBEdit.  Still
	  cleaning up formatting fuck up's from it (tab's vs 4 spaces), and
	  I only used it for like 2-3 weeks back at the start of this
	  project...  Either way, fixing formatting, commiting it so have a
	  *Good* formatted version of this file, about to start conversions
	  to new dcbuffer.{c,h} api.

2003-10-08 03:33  bharring

	* dcbuffer.c, dcbuffer.h: quick tweaks, about it.  Moving towards
	  multi-pass.

2003-10-08 01:21  tag release-0-40-pre3

2003-10-08 01:21  bharring

	* configure.in: branding the 0.40_pre3 tag shortly...

2003-10-07 05:02  bharring

	* apply-patch.c, bdelta.c, bdiff.c, convert_delta.c, dcbuffer.c,
	  dcbuffer.h, defs.h, diffball.c, differ.c, gdiff.c, patcher.c,
	  switching.c: Major changes to dcbuffer.  Add DCBF_cur_(len|off)
	  for pulling the current offset/len.  Modified CommandBuffer so
	  that there are 2 types of stored buffers, one full (original) and
	  one for multi-passing.

	  The functions should handle dealing w/ which is which.

2003-10-06 23:57  bharring

	* diffball.c: Getting ready to add multi-pass.

2003-10-06 03:53  bharring

	* adler32.c, cfile.c, cfile.h, diffball.c, differ.c: Fixed a bug in
	  cfile.{c,h}, which was why diffball/differ were segfaulting
	  *HARDCORE* on large files if the user was root.  Side note,
	  stopped using root as my default account, cause of those
	  segfaults.  Long story short, access_flag CFILE_BUFFER_ALL and
	  CFILE_RONLY shared a bit- so it lead to every file being
	  buffered.  Which is really bad when the two files are half a gig
	  each...  Either way, fixed it.  Enabled parity in adler32 again,
	  prob just going to throw it out.  might be useful for non-prime,
	  but neh, who knows.

2003-10-06 01:38  bharring

	* Makefile.am, TODO, apply-patch.c, apply-patch.h, bdelta.c,
	  bdiff.c, cfile.c, cfile.h, configure.in, convert_delta.c,
	  dcbuffer.c, dcbuffer.h, defs.h, diff-algs.c, diffball.c,
	  differ.c, gdiff.c, line-util.c, options.c, options.h, patcher.c,
	  switching.c, udiff.c, xdelta1.c, xdelta1.h: Import of my files,
	  since the laptop appears dead (taking my most recent repository
	  with it).  Shit.

2003-10-01 12:16  bharring

	* defs.h: minor modification, added v0printf (basically a
	  fprintf(stderr, expr) alias).

2003-10-01 00:17  bharring

	* tar.c, convert_delta.c, dcbuffer.c, diffball.c, differ.c,
	  patcher.c, TODO, dcbuffer.h: Hokay.  Tweaked DCBufferAddCmd to
	  automatically realloc the CommandBuffer if more space is needed.
	  Took a crap load of pain, but got it.

2003-09-30 03:47  bharring

	* adler32.c, apply-patch.h, configure.in, diff-algs.c, diff-algs.h:
	  fix to apply-patch.h Rest is adding a new debug flag, DEBUG_HASH
	  , which enables checking of duplicate hash entries for good vs
	  bad (bad being where checksum's don't match).  Enabled via the
	  usual configure.in method.

2003-09-28 22:57  bharring

	* AUTHORS, TODO, adler32.c, diff-algs.c, diff-algs.h, diffball.c,
	  differ.c, tar.h: modifications here and there, starting up the
	  cfile compressor setup.

2003-09-28 18:11  bharring

	* tar.c: starting cleanup of tar.c

2003-09-27 04:35  bharring

	* Makefile.am: tweak disabling ctest, useful, but not needed for
	  make dist...

2003-09-26 02:05  bharring

	* bdelta.c, bdelta.h, configure.in, convert_delta.c, diffball.c,
	  differ.c, formats.c, patcher.c, switching.c: Fixes.

2003-09-25 14:12  bharring

	* Makefile.am: Tweak to backhand automake into including the man
	  pages when doing a 'make dist'.  That and get the generated
	  makefile to install said man pages...

2003-09-25 14:05  bharring

	* TODO: tweaks to the crystal ball vision.

2003-09-25 13:59  bharring

	* Makefile.am, convert_delta.1, diffball.1, differ.1, patcher.1:
	  Hoo Ha.  Got man pages wrote, although they are a wee bit sparse.
	  Updated Makefile.am to make automake aware of the new files, and
	  install em.

2003-09-25 02:15  bharring

	* bdelta.c, bdiff.c, convert_delta.c, diffball.c, differ.c,
	  formats.c, gdiff.c, patcher.c: tweaks to correct/shut up -Wall.
	  Not so much shut it up, as fix the problem (if any) or quiet it
	  if no reason to complain.

2003-09-25 02:04  bharring

	* AUTHORS, Makefile.am, TODO: Tweaks.

2003-09-25 01:17  bharring

	* Makefile.am, bdelta.c, bdelta.h, bdiff.c, convert_delta.c,
	  diffball.c, differ.c, formats.c, formats.h, gdiff.c, gdiff.h,
	  options.c, patcher.c, switching.c, switching.h, xdelta1.c: hokay.
	  Command line Options are now basically completed for each
	  binary.  Cleaned up the check_for_format and identify_format
	  functions.  Things seem to be going fairly well, cleaned up the
	  output for the binaries/code.  Adjustment to Makefile.am... um
	  yeah, a lot of work here and there.

2003-09-24 14:34  bharring

	* Makefile.am, differ.c, formats.c, gdiff.c, patcher.c: Tweaks here
	  and there, getting close to switching over to run time selection
	  of format to use.  Necessary functions are in place, just need to
	  right the code.

2003-09-24 04:14  bharring

	* options.h: Fixed a dumb mistake, dawned on me while attempting to
	  sleep- basically the macro definitions (FORMAT_OPTIONS for
	  instance) should have they're 'variables' wrapped in ()'s, since
	  the dev might pass a statement like buff +3 , which should be
	  interpreted as (buff + 3) where ever used.  Dumb mistake, fixed
	  though.

2003-09-24 04:03  bharring

	* Makefile.am, bdelta.c, bdelta.h, bdiff.c, bdiff.h,
	  convert_delta.c, formats.c, formats.h, gdiff.c, gdiff.h,
	  options.c, switching.c, switching.h, xdelta1.c, xdelta1.h: hokay.
	  More option crap, added a check_*_magic function to each format,
	  used via identify_format (in formats.c) for identifying the patch
	  format.  Also added check_for_format, which is a command line
	  option checker- yeah, may belong in options.c, but this (at the
	  moment, 4:00am) makes more sense to me.  Either way, getting
	  there.  Need to finish this options crap (including adding
	  argInfo and Descr to options.h), then refactor cfile to support
	  true windowing (for xdelta format).  Oy.

2003-09-23 23:47  bharring

	* Makefile.am, configure.in: tweaks as I've gotten a little more
	  used to auto(conf|make).

2003-09-23 22:16  bharring

	* Makefile.am, apply-patch.c, bdelta.c, cfile.h, convert_delta.c,
	  dcbuffer.c, defs.h, diff-algs.c, diffball.c, differ.c, formats.h,
	  options.c, options.h, patcher.c, switching.c, xdelta1.c: Hokay.
	  Bit o work here.  formats.h is a header that includes all format
	  headers, centralizing it.  formats.c (not added yet, nor wrote)
	  will be for identifying formats via calls to format magic sig
	  checkers.  options.c is a standard usage message for puking the
	  usage out to the user upon option error's.  options.h include the
	  prototype, and several macro define's that are popt specific
	  options.  STD_OPTIONS is the standard options to each binary,
	  DIFF_OPTIONS is differencing specific (eg differ/diffball), etc.
	  Cleaned up the code in general, more work to do.  nearing initial
	  release..

2003-09-21 05:20  bharring

	* Makefile.am, cfile.h, configure.in, diff-algs.c, diff-algs.h,
	  diffball.c, differ.c, tar.c: cleaned up the makefile something
	  fierce, modifications here and there, differ now uses popt (as
	  shall the rest shortly) for option parsing.  going to add
	  options.c shortly, once certain things are worked out (automatic
	  variable updating for instance).

2003-09-17 22:50  bharring

	* convert_delta.c, defs.h, diffball.c, differ.c, patcher.c: tweaks

2003-09-17 01:32  bharring

	* apply-patch.c, bdelta.c, bdiff.c, configure.in, convert_delta.c,
	  ctest.c, dcbuffer.c, defs.h, diff-algs.c, diffball.c, differ.c,
	  gdiff.c, patcher.c, switching.c, udiff.c, xdelta1.c: I have this
	  sneaking suspicion I'm going to be messing with
	  verbosity/debugging printfs for a long time...

2003-09-15 02:08  bharring

	* line-util.c: tweak for asserts and such.

2003-09-15 00:36  bharring

	* bdelta.c, defs.h, udiff.c: started work on removing annoying
	  aborts, and having that function return appropriatly.

2003-09-14 22:54  bharring

	* Makefile.am, apply-patch.c, bdelta.c, bdiff.c, bit-functions.c,
	  cfile.c, configure.in, dcbuffer.c, defs.h, diff-algs.c,
	  diffball.c, differ.c, gdiff.c, patcher.c, switching.c, udiff.c,
	  xdelta1.c: Hokay, widespread changes.  added defs.h, which
	  basically contains a crapload of printf specifications, each
	  controlled by preprocessor definitions.  Modified configure.in to
	  control the definitions.  Either way, clean up here and there.
	  Getting ready initial release version.

2003-09-14 18:18  bharring

	* configure.in, patcher.c: starting rather wide spread
	  modifications, basically cleaning up the code so that debug d
	  efinitions enable printfs, and enable assertion's.

2003-09-14 00:35  bharring

	* udiff.c: Tweaks here and there.  Minor adjustment to udiff.c,
	  basically puking when it encounters the lovely 'Binary file x and
	  y differ'

2003-09-14 00:16  bharring

	* udiff.c: Added a CRAPPY kludge (think duct tape) that ought to
	  solve the lack of newline at end of file issue.  It's geared such
	  that they're must be two such errors, which likely ain't a
	  correct assumption.  Either way, it is solving the problem for
	  binary files.  Text on the other hand...  Well, I'm sure the cvs
	  log's will have more about this down the line...

2003-09-14 00:09  bharring

	* cfile.c, udiff.c: getting closer.  Removed an assert, that
	  frankly is pointless at the moment.  It was designed to ensure
	  cflush sends out all data... which is fine and well for
	  uncompressed (where all data can be written out).  Either way,
	  removed it, left a suitable note there.  Got unified gnudiff
	  close, producing off by one (just to piss me off I'm betting).
	  The problem is an unusual one, basically diff doesn't like
	  working on binary files.  Forcing it to work on binary files,
	  there are issues with lack of newline at the end of the file.
	  Soo... should be fixed, mainly since the lack of a newline at the
	  end of a valid text file ought to bring this problem out.
	  Hopefully fixed in the next commit.

2003-09-13 21:36  bharring

	* udiff.c: Partially working multiple segment handling.  For
	  segment I mean specification of modification areas.  It works on
	  some files, not on others...	So.. the whole ordering of ' ',
	  '-', '+' is probably bringing out a logic error in the code.

2003-09-13 19:16  bharring

	* cfile.c, line-util.c, patcher.c, udiff.c, udiff.h: work in
	  progress, udiff (unified gnu diffs) doesn't work perfectly yet.
	  Heh.	Does work for one segment patches (eg, one area of
	  modification).  Multi-segment is soon to follow, just need to
	  identify where I'm off by a line.  From there, need to create
	  solution to handle recursive patches.  That's where it'll get
	  fun.

2003-09-12 16:43  bharring

	* Makefile.am, cfile.c, line-util.c, line-util.h, patcher.c:
	  Temporary commit to show greg about cvs.

2003-09-08 23:42  bharring

	* Makefile.am, apply-patch.c, cfile.c, cfile.h, convert_delta.c,
	  ctest.c: adjustments here and there.

2003-09-07 17:03  bharring

	* cfile.c, cfile.h, ctest.c: test file tweaks, beginning work on
	  expose_page (exposing the buffering system's data buffer)

2003-09-07 12:44  bharring

	* cfile.c, ctest.c: Quick fix to ctell when using the CSEEK_END
	  flag.  Updated test to reflect.

2003-09-07 12:31  bharring

	* Makefile.am, cfile.c, cfile.h, ctest.c: Love the new buffering
	  system... quickly added (eg needs some optimization) md5 support
	  in about 15 minutes.	Nice...

2003-09-06 21:37  bharring

	* cfile.c, cfile.h: minor tweak here and there.

2003-09-06 18:47  bharring

	* Makefile.am, adler32.c, bdelta.c, cfile.c, cfile.h, ctest.c,
	  diff-algs.c, diffball.c, differ.c, test-cfile.txt: Hokay.  Buffer
	  system got yanked and rewrote.  cread/cwrite/cseek all function
	  the same *externally* internally, it's a slightly different
	  matter.  Basically I simplified it all (hopefully), and made it a
	  much cleaner design.	It'll be quite a bit easier to add md5 and
	  transparent compression/decompression.  Also.  Added ctest- it's
	  basically a crapload of assert's that abuse the buffer system
	  attempting to break it.  Still needs more tests added, but has
	  been quite valuable in rewriting the buffer system to the
	  original external api, and being able to do it *right* this time.
	  cheers.

2003-09-02 15:19  bharring

	* Makefile.am, cfile.c, diffball.c, differ.c: Fixed a rather lovely
	  memory leak in cfile, related to cclose and state flag
	  BUFFER_ALL...  Basically resulted in all matched tar entries, not
	  having their cfile buffer's deallocated- and since BUFFER_ALL was
	  in effect, say you matched 80% of the entries on two 500mb files,
	  you'd end up w/ 800mb leaked (roughly)... Math may be a bit off
	  there, but you get the jist.

2003-09-02 11:22  bharring

	* cfile.c, convert_delta.c, dcbuffer.c, dcbuffer.h, diff-algs.c,
	  diff-algs.h, diffball.c, differ.c, patcher.c: Been using valgrind
	  to identify memory leaks.  Looks like there are areas where I'm
	  not freeing alloced memory... nifty tool btw.

2003-09-01 14:29  bharring

	* TODO: Tweaks here and there, adjustments to planned release.

2003-09-01 04:00  bharring

	* AUTHORS, TODO: Adjusted AUTHORS formatting (no actual content
	  change).  Added what I've figured for a development/release
	  schedule to TODO.

2003-09-01 03:24  bharring

	* Makefile.am, adler32.c, adler32.h, bdiff.c, cfile.c, differ.c,
	  gdiff.c, primes.c, switching.c, switching.h, tar.c: Hokay.  Code
	  cleanup.  Again.  Could've sworn I commited these changes
	  earlier, although I think it may be completion of that earlier
	  endeavor...

2003-09-01 00:27  bharring

	* Makefile.am, apply-patch.c, bdelta.c, bdiff.c, bit-functions.c,
	  bit-functions.h, cfile.c, cfile.h, convert_delta.c, dcbuffer.c,
	  dcbuffer.h, diffball.c, file.c, file.h, gdiff.c, patcher.c,
	  xdelta1.c: code clean up.

2003-09-01 00:11  bharring

	* raw.c, raw.h: Well.  This format was the code I wrote out
	  originally that was to be close to bdelta's.	Got bdelta support
	  built in now, although it is a bit dumb.  Sorry fellas....

2003-08-31 03:28  bharring

	* Makefile.am, diffball.c, differ.c: trivial stuff.  bdelta format
	  has basically been verified that it works now, for large files
	  too.	Still have the issue of reading bdelta format, and dealing
	  w/ delta's that don't reconstruct the full file, and leave null
	  at the end of it.

2003-08-30 21:50  bharring

	* diffball.c, Makefile.am, bdelta.c, bdelta.h, bit-functions.c,
	  dcbuffer.c, dcbuffer.h, file.c, file.h, patcher.c, raw.c: hokay.
	  Got write support pretty much finished for bdelta.  Verified it
	  works via testing w/ bdelta.	Niete.	file.{c,h} has some nice
	  additional functions, basically a copy block function,
	  standarized function for copying to/from cfiles...  basically
	  just a simple function that handles the buffering and such, worth
	  converting other formats to use.

2003-08-29 21:46  bharring

	* bit-functions.c: stupid god damned le functions...

2003-08-29 21:10  bharring

	* bit-functions.c: minor commit, annoying bug in writeUBytesLE
	  that's been making bdelta writing a pain...

2003-08-28 17:20  bharring

	* bdelta.c: Minor tweak

2003-08-27 02:50  bharring

	* differ.c, adler32.c, adler32.h, diff-algs.c, diff-algs.h,
	  diffball.c, gdiff.c, patcher.c, apply-patch.c, apply-patch.h,
	  cfile.c, cfile.h, gdiff.h, primes.c, primes.h, switching.c,
	  switching.h, bdelta.c, bdelta.h, bdiff.c, bdiff.h,
	  convert_delta.c, dcbuffer.c, dcbuffer.h, raw.c, raw.h, xdelta1.c,
	  xdelta1.h: Somewhat minor change, although widespread- basically
	  went through and adjusted all defined struct's so that they were
	  typedef's, so I don't have to have ugly-ass (as an example)
	  struct cfile ... in each source.  Yes, trivial, but a but load of
	  changes by hand.  Modified cfile fairly heavily due to
	  complication, function arguement definition (struct cfile *cfile)
	  doesn't really work, since now w/ typedef it's (cfile *cfile)...
	  had to make it (cfile *cfh), and modify all use of that variable
	  by hand (write a script to do this next time).  So...
	  uncommenting old code in cfile may cause problems... should have
	  got em all, but who knows.  Changed adler32_seed to
	  ADLER32_SEED_CTX, and prime_ctx to PRIME_CTX .  Other then that,
	  modified dcbuffer's struct definition to allow for the coming
	  attempt of spliting functions into multiple parts...	Oy.  ~bdh

2003-08-25 03:47  bharring

	* differ.c, Makefile.am, bdelta.c, bdelta.h, bdiff.c,
	  bit-functions.c, bit-functions.h, gdiff.c, patcher.c, raw.c,
	  switching.c, xdelta1.c: hokay.  Modified bit-functions for
	  big/lil endian considerations- basically you must specify the
	  endian-ness.	Yay.  So yeah, modified all formats for it.  add
	  bdelta support, although it's got an annoying quality that fscks
	  up my setup a bit- basically, the bdelta set of commands may
	  specify additions/copy's for a total of only (say) 75 bytes out
	  of a 100 byte target if the remainder is null padded (?).  So
	  that's annoying, cause I'll have to either modify dcbuff, or
	  everytime a bdelta patch is in use, take that into
	  consideration...

2003-08-22 16:37  bharring

	* cfile.c, diffball.c, patcher.c, Makefile.am, xdelta1.c,
	  xdelta1.h: Now have *working/beta* xdelta-1.1.3 read support.  I
	  don't know what a couple of bytes in the format are used for, so
	  bit wary there.  That and not doing md5 verification, since I
	  need to add md5 support to the buffering system... oy.  Either
	  way, she comes out md5 correct  against mozilla-1.2.1
	  mozilla-1.4.1 (200+mb files), so looks like things are correct.
	  In serious need of writing options into the commands.  That and
	  dcbuffer needs completion, and need to start breaking large
	  functions (eg differencing or encoding) up so that they can be
	  run piece meal, eg encode 100k of this, reconstruct part of the
	  file w/ those commands, flush commands, load next 100k of
	  commands, wash, rinse, repeat.

2003-08-18 00:07  bharring

	* Makefile.am, bdiff.c, bdiff.h, convert_delta.c, dcbuffer.c,
	  dcbuffer.h, differ.c: Hokay.	Now can output in bdiff format.
	  Still need to add md5 support.  So... modification of cfile, and
	  allow it to pass data through evp's md5 function.  Not looking
	  forward to that..

2003-08-17 11:55  bharring

	* Makefile.am, bdiff.c, bdiff.h, patcher.c, view-patch: Added a new
	  format that can be read, bdiff's format (bdiff.{c,h})
	  Reconstruction seems to go fine, pretty straightforward format.
	  Has md5 checksum's in it which need to be checked (eg reconstruct
	  ain't done), but looks to be pretty make done aside from that.

2003-08-12 11:46  bharring

	* differ.c, Makefile.am, convert_delta.c, diffball.c, patcher.c,
	  raw.c, COPYING, dcbuffer.c, dcbuffer.h: Lots of adjustments here
	  and there, clean up and such.  Been attempting to decipher the
	  xdelta-1.13 format.  Which sucks.  Hard.

2003-08-10 03:01  bharring

	* Makefile.am, diffball.c, patcher.c, raw.c: Hokay, aside from
	  tweaking diffball/patcher for choosing the output type, raw
	  format has had it's reconstruct function finished so it supports
	  reconstruction of the format now.  Makefile.am had a few tweaks,
	  about it.  Really, *REALLY* need to adjust the Makefile.am and
	  clean it up.

2003-08-09 23:03  bharring

	* gdiff.c, switching.c, convert_delta.c: Tweaks here and there
	  working towards making outputting an encoding leaving the command
	  buffer unmodified/same as prior (since DCBufferIncr is used).
	  Also modified convert_delta to output switching and raw if given
	  a 3rd filename.

2003-08-09 22:44  bharring

	* primes.h, string-misc.h: ...and copyright notice on header's.

2003-08-09 22:43  bharring

	* convert_delta.c, primes.c, string-misc.c: Tacked on copyright
	  notice at top of c files.

2003-08-09 22:39  bharring

	* TODO, diffball.c, differ.c, gdiff.c, patcher.c, Makefile.am,
	  convert_delta.c, raw.c, raw.h: Hokay.  Quickly scratched out the
	  basic framework for a binary for converting between delta formats
	  (convert_delta), also added the beginning of a new delta output-
	  raw.	Basically bdelta's format, although will need tweaking,
	  plus needs to have it's reconstruct function gutted and
	  rewritten.  Tweaks here and there...

2003-08-08 19:50  bharring

	* differ.c, adler32.c, adler32.h, diff-algs.c, diff-algs.h,
	  diffball.c, tar.c, tar.h, Makefile.am, cfile.c, cfile.h, gdiff.c,
	  primes.c, primes.h: Um... yeah.  Lot of adjustments here and
	  there, fixes, improvements, etc.  Check TODO for where it stands
	  right now...

2003-08-02 16:20  bharring

	* adler32.c, switching.c: check adler32.c.  Suddenly diffball is
	  outputing slightly smaller patches, I'm thinking either due to an
	  error in the parity work I'm commiting or a bug I corrected
	  unknowingly.	Either way, still md5 correct.	Also, modified
	  switching to skip blank len commands.

2003-08-02 03:12  bharring

	* adler32.c, adler32.h, Makefile.am: improved adler32's speed,
	  added profiling flags to Makefile.am for current speed tests.

2003-07-31 04:08  bharring

	* diff-algs.c, diffball.c, tar.c: minor screw up adding un-matched
	  blocks at end of a onehalfpasscorrecting run is now fixed,
	  producing what patches that now results in md5 correct tarball's
	  *should be* 100% of the time.  Other then that, cfile needs heavy
	  optimization.

2003-07-30 10:52  bharring

	* Makefile.am: tweak to makefile.am to add diffball's needed
	  files...

2003-07-30 10:41  bharring

	* diffball.c: added a quick hack to handle unmatched files in
	  diffball.c Impressive so far, although I think switching encoding
	  will be where it shines better...  Just need to implement a
	  correcting alg for the dcbuffer for switching, since it *will
	  not* allow for add's in a row.  Probably will add this into the
	  switching encoding as a function, from there, clean up after I
	  implement an optimizing function for gdiff and switching.
	  Hoozah.

2003-07-30 10:03  bharring

	* string-misc.c, string-misc.h: kind of a proxy/placeholder for
	  string.h, this *should* from now on be the included rather then
	  string.h Main reason being that this holds missing string
	  functions (such as strnlen).

2003-07-30 10:01  bharring

	* diff-algs.c, differ.c, tar.c, Makefile.am, diffball.c, patcher.c:
	  Hokay.  Pulled an all-nighter (I was intending to anyways due to
	  circadian rythym fun), and built upon the work I'd done in
	  diff-algs to make onehalfpasscorrecting position independent (via
	  cfile).  Long story short, cleaned up diffball.c (and implemented
	  string-misc.c's use of config.h), tacked on differencing support,
	  and have it now able to do per-file/tar-entry differencing.
	  Nice.  So far offset_start results in a somewhat equal/slightly
	  worse output, dc_pos on the other hand results in an output that
	  *so far* looks to beat the shit out of differ.c (mine), xdelta
	  (macdonalds), and bdelta (jjw).  Nice.  Need's further work
	  though, haven't yet implemented the ability to handle *unmatched*
	  files.  That's not hard though...

2003-07-29 03:37  bharring

	* diff-algs.c, differ.c: oh yeah.  Finally got cfile's cseeking and
	  all whipped fairly well into shape.  BOOYAH!

2003-07-29 03:27  bharring

	* Makefile.am, cfile.c, diff-algs.c, differ.c: work in progress.
	  do *not* use this revision.

2003-07-28 23:33  bharring

	* differ.c, apply-patch.c, cfile.c, diff-algs.c, gdiff.c,
	  patcher.c: hokay.  trying something, so bear with me here.
	  basically working to enable diff-algs.c (onehalfpasscorrecting)
	  to work correctly w/ my rather hackney cfile.{c,h} frankly cfile
	  scares me a bit, and that ain't good.  right now it looks like
	  the ducks are lined up and everything works, although running
	  multiple onehalfpasscorrecting against a file, then outputing the
	  patch can cause some issues with switching encoding.	Mainly
	  since it expects to *never* see 2 adds in a row.  Soo.  Ought to
	  write something there.  Course I dislike that format right now
	  cause it doesn't quite meet the standards I had deemed for it, so
	  neh.

	  TODO:  integrate config.h into the necessary files, clean up the
	  massive amount of cruft/commented out code, add optimize commands
	  for the various encodings, modify switching to handle the
	  multiple add correctly, regardless if an optimize command has
	  been ran against the dcbuff- eg make switching able to handle it
	  regardless.  That be important.  from there, diffball needs work,
	  add checkpointing (the options are there, just need to add the
	  actual checkpointing code for init_ref_hash which won't be hard),
	  hmm.	work on hashing alg?

2003-07-27 21:29  bharring

	* diff-algs.c, diff-algs.h, differ.c, Makefile.am, bit-functions.c,
	  bit-functions.h, cfile.c, configure.in, gdiff.c, patcher.c,
	  switching.c, switching.h: nips tucks tweaks abound.  Suffice it
	  to say, work here and there.	Annoying, switching did not behave
	  as well as I'd like... smaller output, compresses equal or
	  slightly worse.  Crap.

2003-07-26 22:51  bharring

	* primes.c: fixed bug in it that cause a bit o problems...

2003-07-25 21:23  bharring

	* diff-algs.c, differ.c, Makefile.am, diff-algs.h, gdiff.c: fucking
	  accidentally wiped working directory, eg bugs might abound.
	  seperated diff-algs.c's onehalfcorrectingpass into an init hr and
	  the actual pass.  needs work.

2003-07-23 02:02  bharring

	* Makefile.am, bit-functions.c, bit-functions.h, diff-algs.c,
	  diff-algs.h, gdiff.c, primes.c, primes.h, switching.c,
	  switching.h: adding snapshot... heavy modifications, not finished
	  yet, but getting rather close.  primes.{c,h}= quick lil ctx setup
	  for finding primes under ulong.  Nice...  switching.{c,h}= rather
	  similar to gdiff, but compresses better and is smaller typically.
	  Nice...  rest of the stuff is modifications= gdiff I'm
	  experimenting w/ rearranging the data (add data) to improve
	  compression, unlikely to continue.  It'll be reverted to gdiff
	  v4, w/ the extra fun attempts split off as v5 along w/ some
	  definite improvements (expanding the allowed range for a copy
	  command and add len- look in switching if curious).  Moving to
	  enabling verbosity, and adding options.  further, enable prime
	  usage for diff-algs (for hr_size), etc.  Basically some tweaks
	  are in order...  Also need to split diff-algs up a bit,
	  initializing, running, etc.  Likely branch that, since unsure
	  that splitting a tarball up into entries will result in better
	  compression although I'm fairely sure it will.  Need to work on
	  hashing alg a bit, testing so far indicates for large tarball
	  files using the whole dataset using 32 works typically great,
	  although 24 sometimes edges out.  Worth using in tarball
	  implementation.  ~bd

2003-07-18 01:04  bharring

	* diff-algs.c: buffer/assert bug.  fixed.

2003-07-15 18:45  bharring

	* TODO, cfile.c, diff-algs.c, gdiff.c, AUTHORS: rewrote authors,
	  todo got updated, fixed a bug in cfile w/ memalias cfiles.

2003-07-15 04:41  bharring

	* COPYING, INSTALL, Makefile.am, adler32.c, cfile.c, diff-algs.c,
	  differ.c, gdiff.c: HOKAY.  this ought to be the final correct
	  version for autoconf and automake.  it'll require usual
	  aclocal/autoconf/automake/autoheader bolsh, but it ought to work.

2003-07-15 04:28  bharring

	* install-sh, missing, mkinstalldirs: fucking autoconf....

2003-07-14 01:01  bharring

	* differ.c, adler32.c, adler32.h, diff-algs.c, diff-algs.h:
	  continued tweaking of the modifications to the adler32 hashing
	  algorithm using a prime table.  the table likely needs better
	  optimization, since it was created rather haphazardly- also fixed
	  a problem w/ parity (eg the checksum was always even).

2003-07-11 11:27  bharring

	* install-sh, missing, mkinstalldirs: stupid frigging files...

2003-07-09 03:04  bharring

	* AUTHORS, COPYING: misc, credit to those where I got the info/algs
	  for the implementation is in authors, copying is the gpl 2
	  license..................

2003-07-09 02:59  bharring

	* config.h.in: continued attempts w/ autoconf and automake...
	  should be there now.

2003-07-09 02:51  bharring

	* config.h.in: heh.  missed one.

2003-07-09 02:49  bharring

	* AUTHORS, COPYING, INSTALL, Makefile.am, NEWS, README,
	  configure.in: files (hopefully all that are needed for autoconf
	  and automake move.

2003-07-09 02:47  bharring

	* dcbuffer.c, dcbuffer.h: [no log message]

2003-07-09 02:41  bharring

	* differ.c: prepping to use autoconf and automake, about there.

2003-07-07 00:54  bharring

	* diff-algs.c, differ.c, adler32.c, adler32.h, cfile.c,
	  diff-algs.h: Ok.   cfile mem aliasing works now, although I don't
	  doubt there are conditions where it may fail. last commit had a
	  rather *dumb* little mistake involving leaving an exit(0) in
	  place.  heh.	either way, cfile.c needs *serious* clean up.

2003-07-06 17:25  bharring

	* adler32.c, adler32.h, diff-algs.c, gdiff.c: abstracted the
	  rolling/flushing of adler32, added multiplier for some
	  experiments.	not sure what I modified in gdiff.c to be honest,
	  likely just friggin printf debugging...  Ah yes, works still btw.

2003-07-04 02:06  tag v010

2003-07-04 02:06  bharring

	* adler32.c, adler32.h, data-structs.h, diff-algs.c, diff-algs.h,
	  diffball.c, differ.c, patcher.c, tar.c, tar.h, apply-patch.c,
	  apply-patch.h, bit-functions.c, bit-functions.h, cfile.c,
	  cfile.h, gdiff.c, gdiff.h: added gpl licensing header to *.{c,h}

2003-07-03 22:17  bharring

	* apply-patch.c, cfile.c, cfile.h, diff-algs.c, diff-algs.h,
	  differ.c, gdiff.c, gdiff.h, patcher.c: code needs cleanup, but
	  cut normal memory usage down by a third (removed reliance on
	  having files loaded into memory).  Performance issues exist-
	  haven't optimized the buffers at all, so that needs to be
	  handled...  further, enable the ability to work off a file *in*
	  memory- basically allow for that which I just removed. heh heh.
	  ugh.

	  going to work on improvement of the hashing alg now- it sucks ass
	  for large files, so see if I can improve that case (I know it
	  improves for lower bounds too).

2003-06-27 00:04  tag v0_0_5

2003-06-27 00:04  bharring

	* cfile.c, gdiff.c, cfile.h: Hokay.  The long stupid road of
	  dealing w/ buffers in cfile is now (99.999% likely) fixed.  All
	  knowns faults/problems are fixed.  next is clean up of diff-algs,
	  further tar specific diff-alg needs to be added.

2003-06-26 12:44  bharring

	* cfile.c: Add DEBUG_CWRITE definition for debugging cwrite...

2003-06-25 01:45  bharring

	* cfile.c, differ.c: commented out code removal continues I'm
	  afraid...

2003-06-25 01:37  bharring

	* apply-patch.c, gdiff.c: cleaning up commented out code, need to
	  add verbosity options to the multitude of printfs...

2003-06-25 01:18  bharring

	* apply-patch.h: Well, forgot a file.  shite.

2003-06-25 01:17  bharring

	* apply-patch.c, cfile.c, cfile.h, differ.c, gdiff.c, gdiff.h,
	  patcher.c:
	  Hokay.  GDIFF reconstruction is now seperated from the actual
	  writing, it basically recreates the delta commandbuffer, and a
	  standard function interpreates the dcbuffer's commands and does
	  the file reconstruction.  This will allow for doing inplace
	  reconstruction much easier, although streams/stdin files ought to
	  make it fun...

2003-06-24 21:04  bharring

	* dcbuffer.c, dcbuffer.h:
	  Heh. Forgot to add those puppies...

2003-06-23 10:41  bharring

	* diff-algs.c, diff-algs.h, differ.c, apply-patch.c, cfile.c,
	  cfile.h, diffball.c, gdiff.h, patcher.c:
	  delta.{c,h}=>diff-algs.{c,h}, apply-patch.c temporary name for
	  reconstruction code.	Continuing on that endeavour

2003-06-22 01:48  bharring

	* bit-functions.c, cfile.c, patcher.c: [no log message]

2003-06-21 21:34  bharring

	* bit-functions.c, bit-functions.h, cfile.c, differ.c, gdiff.c,
	  patcher.c:
	  fixed warnings.

2003-06-21 20:08  bharring

	* cfile.c, cfile.h, differ.c, gdiff.c, gdiff.h, patcher.c,
	  view-patch:
	  fixed yet another annoying bug w/ 247 248 in the encoding.
	  either way, tiz fixed, moved the dcbuff output to cfile.  next
	  need to move the decoder to create a DCBuff, and isolate that
	  actual file manipulation into a common area.	lovely.  the dumb
	  dog just puked...

2003-06-21 14:56  bharring

	* cfile.c, cfile.h, differ.c, gdiff.c, gdiff.h, patcher.c,
	  view-patch:
	  Lots and lots of changes.  View-patch is basically a simple perl
	  version of od, since OSX's od/hexdump are completely and utterly
	  brain dead (seems to be a common affliction of their ported
	  utilities...).  Either way, modified gdiff to use a new struct
	  cfile, which is basically a layer of functions over
	  read/write/lseek... reason for it's uses is it simplifies gdiff
	  (cuts down on # of buffers), and allow for me to enable
	  compression/decompression w/out having to write it into each
	  encoding scheme.  Needs some ironing out I'm sure, but so far
	  it's behaving well.  note, only reconstruction uses it at the
	  moment- I need to move outputing over also.  Finally, moving the
	  various encodings over to a different setup- reconstruction
	  function is giving the delta, and it should in turn recreate the
	  deltacommandbuffer- output, giving a commandbuffer, outputs it.
	  pretty straightforward.  I want to do this so I can move the
	  actual copy/add portions into a seperate, common file- makes
	  controlling/debugging easier for reconstruction.  That and it
	  makes adding a new encoding much easier- just fit it into the
	  cfile/DCBuffer setup, and the rest will be handled (including
	  compression). nifty.	NOTE- for next month/month-and-a-half I'll
	  be developing on OSX.  I intend to obviously keep this code so it
	  works w/ true linux machines (since this is mach), but likely
	  there will be screw-ups.  At least it'll make porting this beast
	  easier...  ~harring

2003-06-18 14:25  bharring

	* cfile.c, cfile.h, gdiff.c, pdbuff.h, update-cvs: moving
	  uncompleted/non-compiling files into cvs due to fire,
	  transferring cvs to backup-repository and will be working from
	  there while displaced.

2003-06-16 04:06  bharring

	* differ.c, gdiff.c, gdiff.h, patcher.c, pdbuff.c, pdbuff.h,
	  update-cvs: Ahem. Huge amount of moving/tweaking/fixing.
	  Patcher now is basically a simple options handler. it calls the
	  appropriate encoding decoder/reconstructer, which uses a buffer
	  structure provided by pdbuff.{c,h} that will allow me to
	  basically handle stdin for a delta stream without having to be
	  aware of if it's stdin or from a file. Accomplished via
	  refreshPDBuffer, and initPDBuffer.  Haven't implemented stdin
	  support, but it shouldn't be hard- I've abstracted it enough to
	  allow for it.  Either way, plugging new encodings/reconstructors
	  in shouldn't be too hard- what will suck is plugging GNUDiff
	  style encodings in, specifically unified.  bleh.

2003-06-15 04:17  bharring

	* gdiff.c, gdiff.h: added check for unknown offset type (and
	  defined ver5/6).  Side note not listed in previous revision,
	  Makefile has been completely rewrote 3 times now- 1st was crappy,
	  2nd/3rd were basically 'gcc -MM', w/ third being better target
	  definition for the binaries.

2003-06-15 04:12  bharring

	* TODO, bit-functions.c, bit-functions.h, delta.c, delta.h,
	  differ.c, gdiff.c, gdiff.h, tar.h, update-cvs: fairly major work-
	  got a good start on having delta.c able to handle multiple
	  encodings, added gdiff.{c,h} which is the gdiff encoding still
	  need to modify patcher.c to handle multiple encodings (based off
	  of the files magic), need to modify differ.c so it works off of
	  file rather then loading the entire file into memory, and need to
	  do checkpointing (still).  next thing to be commited will be the
	  patcher modifications, and (likely) any fixes to gdiff.c related
	  to positioning.

2003-06-14 23:33  bharring

	* bit-functions.c, bit-functions.h, delta.c, patcher.c: code-clean
	  up, abstracting/moving hardcoded values/functions/transformations
	  into bit-functions.c...

2003-06-14 22:54  bharring

	* delta.c: note, last revision didn't had a flaw in the encoding
	  since I half changed it and didn't finish it prior to commiting..

2003-06-14 22:36  bharring

	* bit-functions.c, bit-functions.h, patcher.c: [no log message]

2003-06-14 22:19  bharring

	* bit-functions.c, bit-functions.h, patcher.c, update-cvs: Fixed
	  update-cvs, since it wasn't picking up the second line of files
	  to commit.

2003-06-14 22:18  bharring

	* delta.c, delta.h, differ.c, tar.c, update-cvs:
	  Rearranged/recreated Makefile, fixed up complaints from -Wall,
	  split off bit-functions.{c,h}

2003-06-13 17:33  bharring

	* delta.c, delta.h: going to add relative addressing to last dc
	  offset, and then try jjw's encoding.

2003-06-13 14:49  bharring

	* TODO, delta.c, delta.h, patcher.c, update-cvs: rearranging,
	  basically tacking stats into the diffing for A) information B)
	  adapative encoding down the line

2003-06-12 18:58  bharring

	* delta.c, patcher.c: fixed a buffer bug, basically added a check
	  to the while loop for the patcher buffer in case it's used up all
	  of the command data in the buffer, but hasn't hit a refresh yet.
	  basically no data buffered, which could (and did) result in it
	  exiting early on evolution-1.2.4/1.3.1 tests.

2003-06-12 01:40  bharring

	* delta.h: for statistical info.  try diffing/patching evolution.
	  It fails the md5summing, and I want to know why.

2003-06-09 02:39  bharring

	* update-cvs: Added dump-tar-headers to the list of 'commit these
	  files, foo'

2003-06-09 01:50  bharring

	* delta.c: hokay, tweaks, about it.

2003-06-08 22:57  bharring

	* delta.c, patcher.c: Finally getting somewhere here people.
	  differ produces (from what I can see) a correct (eg no fuck-ups)
	  encoding.  patcher applies (from what I an see) correctly (eg no
	  fuck-ups) the patch file.  Hoozah.  Tested it against
	  debianutils-{3,7} uncompressed tarballs (roughly 100k), it
	  behaves.  Now for some serious clean up/refactoring.

2003-06-08 21:02  bharring

	* delta.c, patcher.c: still at it.

2003-06-08 19:21  bharring

	* delta.c, patcher.c: ironing out the lovely encoding/patching.
	  mostly fixing offset errors now.

2003-06-07 20:51  bharring

	* gnu-tar.h: not needed anymore- I already have a *mostly* correct
	  tarball handling code.  Extensions need to be added though.

2003-06-07 20:50  bharring

	* patcher.c: [no log message]

2003-06-07 20:41  bharring

	* delta.c, patcher.c, update-cvs: patcher is to be the main source
	  for using a delta to patch the reference.  Fixing fuck-ups in the
	  encoding, adjusted it to be reference based from the current
	  position in the version file- offset no matter what continues to
	  grow, using reference (and losing a bit to sign) this runs at
	  worst equivalent to doing absolute.  That said and done, this
	  needs heavy tweaking to remove hardcoded limits (using long's for
	  file size for instance).

2003-06-07 18:37  bharring

	* delta.c: Hokay.  So far, exempting possible len errors, outputing
	  what should be a correct encoding.  Watch the command bits in
	  lookback- it will need to be modified to handle commands being
	  pushed out of the buffer.

2003-06-07 15:04  bharring

	* delta.c: encoding output is *mostly* right, although final copies
	  (at the tail for the file) don't appear to be coming through
	  correct

2003-06-07 14:30  bharring

	* delta.c, delta.h, differ.c: adding encoding output.  Looks to be
	  a bit fucky...

2003-06-06 02:32  bharring

	* delta.c, delta.h, update-cvs: adding lookback buffer, likely
	  major clean-up/refactoring to come after. getting a bit messy.
	  also added update-cvs, simple bash script for commiting ONLY the
	  files listed within.	since my working dir is a bit messy, this
	  saves on cvs headaches.

2003-06-04 22:11  bharring

	* delta.c, delta.h, differ.c: got hashing going well (65% load for
	  under 200,000 elements usually).  I've got forward and backwards
	  matching going also, need to implement correction, and encoding.
	  Obviously a delta buffer will be needed, so that needs to be
	  implemented (llist? malloc block, w/ two pointers?  structs
	  needed?)

2003-05-29 02:17  bharring

	* adler32.c, adler32.h, delta.c, delta.h, differ.c: Wrote rolling
	  adler32 into delta.c alongside a chcksum array generator.
	  Unfortunately, probably will need to code a rolling adler32
	  function, cause for each chksum computation you can save
	  2*(seed_length -1) additions as long as the offset for the
	  footprint is +1.  Can do it further (eg now bound by starting pts
	  being adjacent), just haven't wrote out the algs.  Prob something
	  like L=seed_length, for orig chksum starting at 2 len=L, and
	  computing starting at 4 len=L.  s1.total@4 = s1.total@2 - s1.2 -
	  s1.3 + s1.(3+L) + s1.(4+L); s2.total@4 = s2.total@4 - (L*s1.2) -
	  (L*s1.3) + (2*s1.(3+L)) + s1.(4+L);

	  s2 totaling is probably wrong/missing a term.  Check notes
	  (offset/s1/s2 table), extend the alg further.  It's doable, just
	  probably need a for loop that processes for like 2-4, and
	  (2+L)-(4+L).	Doable, just haven't nailed it down to a specific
	  function.  Ergo, do it at work tomorrow...

2003-05-28 17:36  bharring

	* adler32.c, delta.c, delta.h: delta.* should, assuming I ever get
	  that far, become a true lib interface.  For now, it holds the
	  majority of the delta functions.

2003-05-27 18:08  bharring

	* diffball.c, differ.c, tar.c: [no log message]

2003-05-27 03:04  bharring

	* adler32.c, differ.c: [no log message]

2003-05-26 15:20  bharring

	* diffball.c: added check to tarball file for an entry that stops
	  checking for most common field entry when the most common (Thus
	  Far) has a count > (the array being checked+1)/2.  The plus one
	  is for odd files, it insures that it only kills when an entry has
	  > half.

2003-05-26 03:46  bharring

	* data-structs.h, diffball.c, tar.h: added len fields to common
	  strings in structs to improve speed, fixed a bug in the
	  common-field alg- basically, a fair portion of the strings past
	  in (mtime for instance) may not be null trailled, soo... it never
	  matched. Always went quadratic.  not good.  Fixed it, now it
	  first checks the stored/passed strnlen, if they match, strcmp's
	  only the stored/passed len (which should be equal).  Cut running
	  time down on openoffice's tarballs from something like upwards of
	  10 minutes, to the limitations of disk i/o.  Like a minute or so.
	  Memory usage went up from 24 mb for total (that includes
	  arrays), to in the range of 25-27mb, all dependent on how many
	  different versions there are in the fields.

2003-05-25 04:19  bharring

	* diffball.c, tar.c: Common tarball entry processing working.
	  However.  It's slow as Shit.	With a capital S here people, it's
	  that bad.  Needs to be improved... try it on openoffice tarballs,
	  it is fricking slow.	Possibly, push this processing to the
	  dumping of files, or have it as a check done when processing each
	  target tarball entry? Also, could use hashes for it, but I'm not
	  really up for making it *that* complex.

2003-05-25 03:44  bharring

	* diffball.c, tar.h: Slowed it down quite a bit.  It's now reading
	  every tarball entry, and finding the common ones.  Could speed it
	  up quite a bit by doing strnlen check once, and storing it.

2003-05-25 03:28  bharring

	* data-structs.h, diffball.c: updated/modified llist structs, for
	  identifying most common entry of certain fields.

2003-05-24 22:59  bharring

	* diffball.c: [no log message]

2003-05-24 22:57  bharring

	* data-structs.h: to hold doubly linked list structs, single
	  linked.. etc.

2003-05-24 04:09  bharring

	* diffball.c: Tweaks here and there- added (source|target)_matches,
	  adding libmagic support next.

2003-05-23 18:43  bharring

	* diffball.c, tar.c, tar.h: Removed reliance on binary md5sum- now
	  using openssl's evp functionality (openssl/evp.h) updated
	  Makefile to reflect the new library need.

2003-05-23 04:04  bharring

	* tar.c: added offset adjustment for gnu extension longlink.  needs
	  verification

2003-05-23 03:01  bharring

	* diffball.c, gnu-tar.h, tar.c, tar.h: Added Makefile, moved tar
	  constants/functions into tar.c and tar.h.  diffball.c minor
	  modifications, gnu-tar.h is /usr/include/tar.h

2003-05-22 23:44  bharring

	* diffball.c, tar.c: fixed issue w/ mallocing one byte to small- it
	  was leading to diffball going quadratic in memory usage.  For
	  60,000 files, it now takes around 8mb to keep it in memory.
	  Nice...

2003-05-22 20:41  bharring

	* diffball.c, tar.c: stupid fucker is taking a shitload of memory.
	  what the hell.

2003-05-22 19:49  bharring

	* diffball.c, tar.c: Tweaked for better memory usage (save 29,000+%
	  for best case, and likely over 400% for worst case);

2003-05-22 17:23  bharring

	* diffball.c: [no log message]

2003-05-21 20:09  bharring

	* diffball.c, dump-tar-headers, tar.c, test: Issue w/ ././@LongLink
	  still exists in oo-1.0.3_src Beginning attempt at matching
	  tar_entries, and entry_header diffing.

2003-05-21 03:34  bharring

	* diffball.c, tar-cmp, tar.c: [no log message]

2003-05-21 00:44  bharring

	* diffball.c: [no log message]

2003-05-21 00:39  bharring

	* tar.c: [no log message]

2003-05-20 20:48  bharring

	* diffball.c: [no log message]

2003-05-20 19:36  tag start

2003-05-20 19:36  root

	* .cvsignore, diffball.c, tar.c, tar.h, test: Initial revision

2003-05-20 19:36  root

	* .cvsignore, diffball.c, tar.c, tar.h, test: Initial version of
	  diffball

